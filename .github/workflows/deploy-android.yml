name: Deploy Android

on:
  workflow_call:
    inputs:
      edition:
        description: 'App edition (lite or pro)'
        required: true
        type: string
  workflow_dispatch:
    inputs:
      edition:
        description: 'App edition (lite or pro)'
        required: true
        type: choice
        options:
          - lite
          - pro

jobs:
  deploy:
    name: Deploy Android - ${{ inputs.edition }}
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Download Android artifacts
        uses: actions/download-artifact@v4
        with:
          pattern: ${{ inputs.edition }}-android-*
          merge-multiple: true

      - name: Deploy to Google Play
        if: ${{ inputs.edition == 'lite' || inputs.edition == 'pro' }}
        run: |
          echo "ğŸš€ éƒ¨ç½²åˆ°Google Play..."
          # TODO: å®ç°Google Playéƒ¨ç½²
          # éœ€è¦ä½¿ç”¨fastlaneæˆ–google-play-deploy-action
          echo "Google Playéƒ¨ç½²åŠŸèƒ½å¾…å®ç°"

      - name: Deploy to Amazon Appstore
        if: ${{ inputs.edition == 'lite' }}
        run: |
          echo "ğŸš€ éƒ¨ç½²åˆ°Amazon Appstore..."
          # TODO: å®ç°Amazon Appstoreéƒ¨ç½²
          echo "Amazon Appstoreéƒ¨ç½²åŠŸèƒ½å¾…å®ç°"

      - name: Deploy to Samsung Galaxy Store
        if: ${{ inputs.edition == 'lite' }}
        run: |
          echo "ğŸš€ éƒ¨ç½²åˆ°Samsung Galaxy Store..."
          # TODO: å®ç°Samsung Galaxy Storeéƒ¨ç½²
          echo "Samsung Galaxy Storeéƒ¨ç½²åŠŸèƒ½å¾…å®ç°"

      - name: Deploy to Xiaomi App Store
        if: ${{ inputs.edition == 'lite' }}
        run: |
          echo "ğŸš€ éƒ¨ç½²åˆ°å°ç±³åº”ç”¨å•†åº—..."
          # TODO: å®ç°å°ç±³åº”ç”¨å•†åº—éƒ¨ç½²
          echo "å°ç±³åº”ç”¨å•†åº—éƒ¨ç½²åŠŸèƒ½å¾…å®ç°"

      - name: Deploy to OPPO App Store
        if: ${{ inputs.edition == 'lite' }}
        run: |
          echo "ğŸš€ éƒ¨ç½²åˆ°OPPOåº”ç”¨å•†åº—..."
          # TODO: å®ç°OPPOåº”ç”¨å•†åº—éƒ¨ç½²
          echo "OPPOåº”ç”¨å•†åº—éƒ¨ç½²åŠŸèƒ½å¾…å®ç°"

      - name: Deploy to vivo App Store
        if: ${{ inputs.edition == 'lite' }}
        run: |
          echo "ğŸš€ éƒ¨ç½²åˆ°vivoåº”ç”¨å•†åº—..."
          # TODO: å®ç°vivoåº”ç”¨å•†åº—éƒ¨ç½²
          echo "vivoåº”ç”¨å•†åº—éƒ¨ç½²åŠŸèƒ½å¾…å®ç°"

      - name: Deploy to Tencent App Store
        if: ${{ inputs.edition == 'lite' }}
        run: |
          echo "ğŸš€ éƒ¨ç½²åˆ°è…¾è®¯åº”ç”¨å®..."
          # TODO: å®ç°è…¾è®¯åº”ç”¨å®éƒ¨ç½²
          echo "è…¾è®¯åº”ç”¨å®éƒ¨ç½²åŠŸèƒ½å¾…å®ç°"

      - name: Deploy to Coolapk
        if: ${{ inputs.edition == 'lite' }}
        run: |
          echo "ğŸš€ éƒ¨ç½²åˆ°Coolapkï¼ˆé…·å®‰ï¼‰..."
          # TODO: å®ç°Coolapkéƒ¨ç½²
          echo "Coolapkéƒ¨ç½²åŠŸèƒ½å¾…å®ç°"

