meta:
  name: themeProvider
  version: 1.0
  created_date: 251024
  last_updated: 251024
  description: >
    主题提供者 - 与 UI 同步主题偏好设置。

provider_definition:
  name: themeProvider
  type: StreamProvider<ThemeMode>
  scope: global
  depends_on: [PreferenceService]

responsibility: 与 UI 同步主题偏好设置

implementation:
  - 监听 PreferenceService 的主题变更
  - 提供 ThemeMode 枚举值
  - 支持实时主题切换

theme_modes:
  - light: 浅色主题
  - dark: 深色主题
  - system: 跟随系统主题

usage:
  - MaterialApp.themeMode
  - 主题切换按钮
  - 响应式主题更新

dependencies:
  - PreferenceService.watch()
  - ThemeMode 枚举

error_handling:
  - 无效主题模式时回退到系统主题
  - 主题加载失败时使用默认主题

performance_considerations:
  - 使用 StreamProvider 避免不必要的重建
  - 缓存主题配置
  - 延迟加载主题资源