meta:
  name: templateSuggestionsProvider
  version: 1.0
  created_date: 251024
  last_updated: 251024
  description: >
    模板建议提供者 - 根据最近使用或输入关键字提供模板候选，最大返回 6 条。

provider_definition:
  name: templateSuggestionsProvider
  type: FutureProvider.family<List<TaskTemplate>, TemplateSuggestionQuery>
  scope: inbox_input
  depends_on: [TaskTemplateService]

responsibility: 根据最近使用或输入关键字提供模板候选，最大返回 6 条

implementation:
  - 监听输入查询变化
  - 调用 TaskTemplateService 获取建议
  - 限制返回结果数量

suggestion_query:
  - query: String? - 搜索查询
  - limit: int - 结果限制（默认 6）
  - sortBy: String - 排序方式（recent, popular）

methods:
  - getSuggestions(String? query, int limit): 获取模板建议
  - getRecentTemplates(int limit): 获取最近使用的模板
  - searchTemplates(String query, int limit): 搜索模板

usage:
  - 收集箱输入框
  - 模板选择界面
  - 自动完成功能

dependencies:
  - TaskTemplateService.suggestTemplates()
  - TaskTemplate 模型

error_handling:
  - 建议加载失败时返回空列表
  - 查询无效时返回默认建议
  - 网络错误时显示重试选项

performance_considerations:
  - 使用 FutureProvider 避免重复查询
  - 防抖搜索查询
  - 缓存建议结果