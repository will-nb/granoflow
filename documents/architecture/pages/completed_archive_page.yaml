meta:
  name: CompletedArchivePage
  version: 1.0
  created_date: 251024
  last_updated: 251024
  description: >
    已完成归档页面 - 显示已完成和已归档的任务，支持重新激活和删除操作。

page_definition:
  name: CompletedArchivePage
  route: /completed
  type: screen

providers:
  - taskSectionsProvider(completed)
  - taskSectionsProvider(archived)
  - preferenceActionsNotifier

layout:
  structure:
    - AppBar(title: Completed)
    - TabBar: Completed / Archived
    - TabBarView:
        - SliverList of completed tasks with actions (reactivate, archive, delete -> trash)
        - SliverList of archived tasks (restore, delete -> trash)

interactions:
  - Reactivate -> TaskService.markInProgress
  - Archive from completed -> TaskService.archive
  - Delete -> TaskService.softDelete (guard against templateLockCount)

notes:
  - 确保任务 ID 可见，符合产品需求要求
  - 支持批量操作
  - 模板锁定的任务不能删除

accessibility:
  - 屏幕阅读器支持
  - 键盘导航支持
  - 语义标签
  - 操作确认

performance:
  - 懒加载任务列表
  - 缓存任务状态
  - 优化批量操作
  - 避免不必要的重建