# 组件架构索引
# 本文件索引所有 UI 组件的定义，每个组件都有独立的 YAML 文件

components:
  # 导航相关组件
  - name: "NavigationDestinations"
    file: "widgets/navigation_destinations.yaml"
    description: "导航目的地枚举定义"
    type: "enum"

  - name: "DrawerMenu"
    file: "widgets/drawer_menu.yaml"
    description: "增强抽屉菜单组件，支持三种显示模式：隐藏/图标/完整"
    type: "StatelessWidget"

  - name: "AppNavigationBar"
    file: "widgets/navigation_bar.yaml"
    description: "竖屏模式底部导航栏组件，用于小屏幕设备的水平导航"
    type: "StatelessWidget"

  - name: "ResponsiveNavigation"
    file: "widgets/responsive_navigation.yaml"
    description: "响应式导航容器组件，根据屏幕方向自动选择导航方式，支持DrawerMenu三种状态"
    type: "StatefulWidget"

  - name: "AppShell"
    file: "widgets/app_shell.yaml"
    description: "应用壳组件，管理统一DrawerMenu的三种显示状态"
    type: "ConsumerWidget"

  - name: "AppRouter"
    file: "widgets/app_router.yaml"
    description: "应用路由系统，集成 go_router"
    type: "static_class"

  - name: "MainDrawer"
    file: "widgets/main_drawer.yaml"
    description: "主抽屉组件，显示页面导航选项，由主菜单按钮控制"
    type: "StatelessWidget"

  - name: "PageAppBar"
    file: "widgets/page_app_bar.yaml"
    description: "统一的页面顶部导航栏组件，支持主菜单按钮和动态标题"
    type: "StatelessWidget"

  - name: "CreateTaskDialog"
    file: "widgets/create_task_dialog.yaml"
    description: "创建任务对话框组件，支持任务标题、标签和父任务选择"
    type: "ConsumerStatefulWidget"

  # 业务组件
  - name: "DashboardMetricCard"
    file: "widgets/dashboard_metric_card.yaml"
    description: "仪表板指标卡片组件"
    type: "StatelessWidget"

  - name: "PrimaryActionButton"
    file: "widgets/primary_action_button.yaml"
    description: "主要操作按钮组件"
    type: "StatelessWidget"

  - name: "PersistentInboxInput"
    file: "widgets/persistent_inbox_input.yaml"
    description: "持久化收集箱输入组件"
    type: "StatelessWidget"

  - name: "ChipToggleGroup"
    file: "widgets/chip_toggle_group.yaml"
    description: "芯片切换组组件"
    type: "StatelessWidget"

  - name: "TaskSectionList"
    file: "widgets/task_section_list.yaml"
    description: "任务分区列表组件"
    type: "StatelessWidget"

  - name: "FocusTimerDisplay"
    file: "widgets/focus_timer_display.yaml"
    description: "专注计时器显示组件"
    type: "StatelessWidget"

# 组件分类
categories:
  navigation:
    description: "导航相关组件"
    components:
      - "NavigationDestinations"
      - "DrawerMenu"
      - "AppNavigationBar"
      - "ResponsiveNavigation"
      - "AppShell"
      - "AppRouter"
      - "MainDrawer"
      - "PageAppBar"

  business:
    description: "业务逻辑组件"
    components:
      - "DashboardMetricCard"
      - "PrimaryActionButton"
      - "PersistentInboxInput"
      - "ChipToggleGroup"
      - "TaskSectionList"
      - "FocusTimerDisplay"
      - "CreateTaskDialog"

# 组件依赖关系
dependencies:
  NavigationDestinations:
    - "package:flutter/material.dart"
    - "package:granoflow/generated/l10n/app_localizations.dart"

  DrawerMenu:
    - "package:flutter/material.dart"
    - "NavigationDestinations"

  AppNavigationBar:
    - "package:flutter/material.dart"
    - "NavigationDestinations"

  ResponsiveNavigation:
    - "package:flutter/material.dart"
    - "DrawerMenu"
    - "AppNavigationBar"

  AppShell:
    - "package:flutter/material.dart"
    - "package:flutter_riverpod/flutter_riverpod.dart"
    - "ResponsiveNavigation"

  AppRouter:
    - "package:go_router/go_router.dart"
    - "package:flutter/material.dart"
    - "AppShell"
    - "所有页面组件"

  MainDrawer:
    - "package:flutter/material.dart"
    - "package:go_router/go_router.dart"
    - "sidebar_destinations.dart"

  PageAppBar:
    - "package:flutter/material.dart"

  CreateTaskDialog:
    - "package:flutter/material.dart"
    - "package:flutter_riverpod/flutter_riverpod.dart"

# 测试策略
testing:
  unit_tests:
    description: "单元测试，验证组件独立功能"
    coverage_target: "≥80%"
    test_files:
      - "test/presentation/navigation/"

  widget_tests:
    description: "组件测试，验证 UI 渲染和交互"
    test_files:
      - "test/presentation/navigation/widgets/"

  integration_tests:
    description: "集成测试，验证完整导航流程"
    test_files:
      - "integration_test/navigation_flow_test.dart"