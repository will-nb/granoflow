meta:
  version: 1
  type: todolist
  iteration: 251024-配色统一与导航重构
  description: "251024-1迭代的任务清单，跟踪所有实施任务的完成状态"
  created_at: "2024-10-24"

phases:
  - name: 配色统一实施
    description: "确保所有文档与cards_flutter项目配色完全一致"
    tasks:
      - id: COLOR-1
        description: "更新 documents/theme.yaml，添加缺失的颜色变量"
        status: pending
        priority: high
        assignee: engineering
        estimated_hours: 1
        dependencies: []

      - id: COLOR-2
        description: "更新 documents/251022-技术规范.yaml 中的颜色系统"
        status: pending
        priority: high
        assignee: engineering
        estimated_hours: 0.5
        dependencies: ["COLOR-1"]

      - id: COLOR-3
        description: "更新 documents/product_requirements.yaml 中的颜色配置"
        status: pending
        priority: medium
        assignee: engineering
        estimated_hours: 0.5
        dependencies: ["COLOR-1"]

  - name: 导航重构实施
    description: "实施Reddit风格的导航架构重构"
    tasks:
      - id: NAV-ACHIEVEMENT-1
        description: "创建成就页面占位符"
        status: pending
        priority: high
        assignee: engineering
        estimated_hours: 2
        dependencies: []
        notes: "需要同时更新user_stories.md和architecture/pages.yaml"

      - id: NAV-BOTTOM-1
        description: "更新底部导航配置，添加成就页面并移除已完成/垃圾箱页面"
        status: pending
        priority: high
        assignee: engineering
        estimated_hours: 3
        dependencies: ["NAV-ACHIEVEMENT-1"]
        notes: "涉及NavigationDestinations枚举修改和页面列表更新"

      - id: NAV-FAB-1
        description: "添加悬浮操作按钮 (FAB) 和创建任务弹窗"
        status: pending
        priority: high
        assignee: engineering
        estimated_hours: 4
        dependencies: ["NAV-BOTTOM-1"]
        notes: "实现Reddit风格的FAB和底部弹出创建弹窗"

      - id: NAV-DIALOG-1
        description: "创建任务创建弹窗组件"
        status: pending
        priority: medium
        assignee: engineering
        estimated_hours: 3
        dependencies: ["NAV-FAB-1"]
        notes: "包含标题输入、标签选择、上级任务选择、发布按钮"

      - id: NAV-SIDEBAR-1
        description: "实现侧边栏导航，包含收集箱、任务栏、已完成、已归档、垃圾箱"
        status: pending
        priority: medium
        assignee: engineering
        estimated_hours: 4
        dependencies: ["NAV-BOTTOM-1"]
        notes: "Drawer组件实现，5个辅助功能导航项"

      - id: NAV-ROUTING-1
        description: "更新路由配置，支持新的页面结构"
        status: pending
        priority: medium
        assignee: engineering
        estimated_hours: 2
        dependencies: ["NAV-ACHIEVEMENT-1", "NAV-SIDEBAR-1"]
        notes: "添加成就、收集箱、已完成、已归档、垃圾箱路由"

      - id: DOCS-UPDATE-1
        description: "更新产品需求和用户故事文档"
        status: pending
        priority: low
        assignee: product
        estimated_hours: 1
        dependencies: ["NAV-BOTTOM-1", "NAV-FAB-1", "NAV-SIDEBAR-1"]
        notes: "更新UI架构描述和验收标准"

      - id: FINAL-TEST-1
        description: "执行端到端验收测试"
        status: pending
        priority: high
        assignee: qa
        estimated_hours: 2
        dependencies: ["NAV-FAB-1", "NAV-DIALOG-1", "NAV-SIDEBAR-1", "NAV-ROUTING-1"]
        notes: "验证完整的导航重构功能和Reddit风格一致性"

progress_tracking:
  total_tasks: 11
  completed_tasks: 0
  in_progress_tasks: 0
  pending_tasks: 11

  by_phase:
    color_unification: 3
    navigation_refactor: 8

  by_priority:
    high: 6
    medium: 4
    low: 1

  estimated_total_hours: 22.5
  actual_hours_spent: 0

milestones:
  - name: "配色统一完成"
    description: "所有文档颜色与cards_flutter保持一致"
    tasks_required: ["COLOR-1", "COLOR-2", "COLOR-3"]
    status: pending

  - name: "基础导航重构"
    description: "底部导航和成就页面实现"
    tasks_required: ["NAV-ACHIEVEMENT-1", "NAV-BOTTOM-1"]
    status: pending

  - name: "FAB和弹窗功能"
    description: "悬浮按钮和创建任务弹窗完成"
    tasks_required: ["NAV-FAB-1", "NAV-DIALOG-1"]
    status: pending

  - name: "侧边栏和路由"
    description: "侧边栏导航和路由系统完成"
    tasks_required: ["NAV-SIDEBAR-1", "NAV-ROUTING-1"]
    status: pending

  - name: "验收测试"
    description: "完整功能验收和文档更新"
    tasks_required: ["DOCS-UPDATE-1", "FINAL-TEST-1"]
    status: pending

risks_and_blockers:
  - risk: "Material Design 3兼容性问题"
    impact: high
    mitigation: "预先测试FAB和弹窗在不同屏幕尺寸下的表现"
    status: identified

  - risk: "测试覆盖不足"
    impact: medium
    mitigation: "按照plan中的测试规范严格执行"
    status: identified

  - blocker: "需要等待设计确认"
    description: "部分UI细节需要产品团队确认"
    status: potential

completion_criteria:
  - "所有任务状态为completed"
  - "所有单元测试通过 (100%)"
  - "导航架构符合Reddit风格设计"
  - "所有文档与实现保持同步"
  - "配色与cards_flutter完全一致"
  - "新功能满足用户需求和验收标准"

notes:
  - "按照测试失败处理原则：失败必须修复代码，不能修改测试"
  - "Preview文档定义修改范围，原yaml文档为准，未涉及部分不变"
  - "多文件功能修改完成后统一测试"
  - "所有修改需同步更新相关文档"