meta:
  version: 1
  type: autotodo
  iteration: "251024-2"
  description: "251024-2迭代自动化任务跟踪清单"
  auto_execution: true
  created_at: "2024-10-24"

# 基于preview和plan文档生成的任务列表
# 这个示例展示了如何将plan文档转换为可自动执行的todo列表

tasks:
  # 示例任务 - 实际使用时会基于具体的preview/plan文档生成
  - id: "EXAMPLE-TASK-1"
    description: "示例任务：更新配置文件"
    status: "pending"
    auto_executable: true
    priority: "high"
    dependencies: []
    execution_time: 0
    retry_count: 0

  - id: "EXAMPLE-TASK-2"
    description: "示例任务：修改UI组件"
    status: "pending"
    auto_executable: true
    priority: "medium"
    dependencies: ["EXAMPLE-TASK-1"]
    execution_time: 0
    retry_count: 0

  - id: "EXAMPLE-TASK-3"
    description: "示例任务：更新测试用例"
    status: "pending"
    auto_executable: false  # 需要手动验证的复杂测试
    priority: "medium"
    dependencies: ["EXAMPLE-TASK-2"]
    execution_time: 0
    retry_count: 0

  - id: "EXAMPLE-TASK-4"
    description: "示例任务：文档同步更新"
    status: "pending"
    auto_executable: true
    priority: "low"
    dependencies: ["EXAMPLE-TASK-1", "EXAMPLE-TASK-2"]
    execution_time: 0
    retry_count: 0

progress_tracking:
  total_tasks: 4
  completed_tasks: 0
  skipped_tasks: 0
  in_progress_tasks: 0

  by_priority:
    high: 1
    medium: 2
    low: 1

execution_log:
  # 执行日志会在这里自动记录
  - timestamp: "2024-10-24 00:00:00"
    task_id: "INIT"
    action: "created"
    message: "自动化todo列表已创建，等待执行"

# 自动化执行配置
automation_config:
  max_retry_count: 3
  skip_on_failure: true
  parallel_execution: false  # 依次执行以确保依赖关系
  progress_reporting: true

# 成功标准
success_criteria:
  - "所有auto_executable=true的任务成功完成"
  - "非自动任务至少被标记为已检查"
  - "核心功能验证通过"
  - "文档与代码保持同步"

# 备用策略
fallback_strategies:
  - name: "跳过策略"
    condition: "任务失败且重试次数达到上限"
    action: "标记为skipped，继续执行下一个任务"

  - name: "依赖处理"
    condition: "依赖任务失败"
    action: "自动跳过所有依赖该任务的其他任务"