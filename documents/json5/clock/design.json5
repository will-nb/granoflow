{
  // 番茄时钟页面设计文档
  // 描述页面的视觉设计、布局、交互和动画效果
  
  // ===========================================
  // 1. 整体设计理念
  // ===========================================
  designPhilosophy: {
    // 全屏沉浸式体验
    immersive: true,
    
    // 与现有 Ocean Breeze theme 融合但有所突破
    themeIntegration: {
      // 保持一致性
      consistency: [
        "使用 Ocean Breeze 的蓝色系作为辅助色",
        "复用现有的渐变系统作为基础",
        "保持相同的字体系统和圆角规范",
      ],
      
      // 突破与创新
      innovation: [
        "引入番茄红/橙色作为主色调（与蓝色形成对比）",
        "更强烈的渐变对比（从暖色到冷色）",
        "更醒目的视觉层次（大字号 + 高对比度）",
        "全屏沉浸式体验（隐藏导航栏，仅保留返回按钮）",
      ],
    },
    
    // 2025年主流设计趋势
    trends2025: [
      "全屏沉浸式设计",
      "鲜艳醒目的配色",
      "简洁直观的界面",
      "动态视觉元素",
      "流畅的动画效果",
    ],
  },

  // ===========================================
  // 2. 配色方案
  // ===========================================
  colorScheme: {
    // 主背景渐变（与现有 theme 呼应）
    backgroundGradients: {
      // Light 模式
      light: {
        // 正常状态：番茄红 → 橙色 → 海盐蓝 → 海军蓝
        normal: {
          type: "LinearGradient",
          direction: "topToBottom",
          colors: [
            "OceanBreezeColorSchemes.pomodoroTomatoRed",  // 番茄红
            "OceanBreezeColorSchemes.pomodoroVibrantOrange",  // 活力橙
            "OceanBreezeColorSchemes.seaSaltBlue",  // 海盐蓝（引用现有颜色）
            "OceanBreezeColorSchemes.navyBlue",     // 海军蓝
          ],
          stops: [0.0, 0.3, 0.6, 1.0],
          note: "所有颜色都从 OceanBreezeColorSchemes 引用，不硬编码",
        },
        
        // 完成状态：绿色 → 薄荷青 → 海盐蓝
        complete: {
          type: "LinearGradient",
          direction: "topToBottom",
          colors: [
            "OceanBreezeColorSchemes.pomodoroSuccessGreen",  // 成功绿（或复用 softGreen）
            "OceanBreezeColorSchemes.mintCyan",     // 薄荷青
            "OceanBreezeColorSchemes.seaSaltBlue",  // 海盐蓝
          ],
          stops: [0.0, 0.5, 1.0],
          note: "所有颜色都从 OceanBreezeColorSchemes 引用，不硬编码",
        },
        
        // 暂停状态：灰色调
        paused: {
          type: "LinearGradient",
          direction: "topToBottom",
          colors: [
            "OceanBreezeColorSchemes.pomodoroPausedLight",  // 灰色
            "OceanBreezeColorSchemes.pomodoroPausedMedium",  // 浅灰
            "OceanBreezeColorSchemes.pomodoroPausedLight2",  // 更浅灰
          ],
          stops: [0.0, 0.5, 1.0],
          note: "所有颜色都从 OceanBreezeColorSchemes 引用，不硬编码",
        },
      },
      
      // Dark 模式
      dark: {
        // 正常状态：深番茄红 → 深橙 → 湖光青 → 深海军蓝
        normal: {
          type: "LinearGradient",
          direction: "topToBottom",
          colors: [
            "OceanBreezeColorSchemes.pomodoroDeepTomatoRed",  // 深番茄红
            "OceanBreezeColorSchemes.pomodoroDeepOrange",  // 深橙
            "OceanBreezeColorSchemes.lakeCyan",     // 湖光青
            "OceanBreezeColorSchemes.navyBlue",     // 深海军蓝
          ],
          stops: [0.0, 0.3, 0.6, 1.0],
          note: "所有颜色都从 OceanBreezeColorSchemes 引用，不硬编码",
        },
        
        // 完成状态：深绿 → 薄荷青 → 湖光青
        complete: {
          type: "LinearGradient",
          direction: "topToBottom",
          colors: [
            "OceanBreezeColorSchemes.pomodoroDeepGreen",  // 深绿
            "OceanBreezeColorSchemes.mintCyan",     // 薄荷青
            "OceanBreezeColorSchemes.lakeCyan",     // 湖光青
          ],
          stops: [0.0, 0.5, 1.0],
          note: "所有颜色都从 OceanBreezeColorSchemes 引用，不硬编码",
        },
        
        // 暂停状态：深灰色调
        paused: {
          type: "LinearGradient",
          direction: "topToBottom",
          colors: [
            "OceanBreezeColorSchemes.pomodoroPausedDark",  // 深灰
            "OceanBreezeColorSchemes.pomodoroPausedDark2",  // 中灰
            "OceanBreezeColorSchemes.pomodoroPausedDark3",  // 浅灰
          ],
          stops: [0.0, 0.5, 1.0],
          note: "所有颜色都从 OceanBreezeColorSchemes 引用，不硬编码",
        },
      },
    },
    
    // 番茄时钟专用配色
    // 注意：所有新颜色都应该添加到 OceanBreezeColorSchemes 中，不要硬编码
    pomodoroColors: {
      // 计时进行中
      active: {
        // 需要在 OceanBreezeColorSchemes 中添加
        tomatoRed: "OceanBreezeColorSchemes.pomodoroTomatoRed",  // #FF6B6B
        vibrantOrange: "OceanBreezeColorSchemes.pomodoroVibrantOrange",  // #FFA07A
      },
      
      // 倒计时接近结束（< 5分钟）
      warning: {
        // 复用 active.vibrantOrange，不需要新颜色
        orange: "OceanBreezeColorSchemes.pomodoroVibrantOrange",
      },
      
      // 超时状态
      overtime: {
        // 使用 theme 的 error 色，不需要新颜色
        error: "Theme.colorScheme.error",
      },
      
      // 完成状态
      complete: {
        // 如果需要，可以添加到 OceanBreezeColorSchemes，或复用现有的 successGreen
        successGreen: "OceanBreezeColorSchemes.pomodoroSuccessGreen",  // #4ECDC4
        // 或者复用现有的 softGreen: "OceanBreezeColorSchemes.softGreen",
      },
      
      // 暂停状态（灰色系）
      paused: {
        // 需要在 OceanBreezeColorSchemes 中添加（Light/Dark 模式分别定义）
        lightGray: "OceanBreezeColorSchemes.pomodoroPausedLight",  // #9E9E9E
        mediumGray: "OceanBreezeColorSchemes.pomodoroPausedMedium",  // #BDBDBD
        lightGray2: "OceanBreezeColorSchemes.pomodoroPausedLight2",  // #E0E0E0
        darkGray: "OceanBreezeColorSchemes.pomodoroPausedDark",  // #424242
        darkGray2: "OceanBreezeColorSchemes.pomodoroPausedDark2",  // #616161
        darkGray3: "OceanBreezeColorSchemes.pomodoroPausedDark3",  // #757575
      },
      
      // Dark 模式专用
      dark: {
        // 深番茄红（Dark 模式正常状态）
        deepTomatoRed: "OceanBreezeColorSchemes.pomodoroDeepTomatoRed",  // #D32F2F
        // 深橙（Dark 模式正常状态）
        deepOrange: "OceanBreezeColorSchemes.pomodoroDeepOrange",  // #FF7043
        // 深绿（Dark 模式完成状态）
        deepGreen: "OceanBreezeColorSchemes.pomodoroDeepGreen",  // #26A69A
      },
      
      // 与现有 Ocean Breeze 的蓝色系形成对比（复用现有颜色）
      oceanBreezeIntegration: {
        seaSaltBlue: "OceanBreezeColorSchemes.seaSaltBlue",
        mintCyan: "OceanBreezeColorSchemes.mintCyan",
        lakeCyan: "OceanBreezeColorSchemes.lakeCyan",
        navyBlue: "OceanBreezeColorSchemes.navyBlue",
      },
    },
    
    // 颜色定义位置
    colorDefinitionLocation: {
      file: "lib/core/theme/ocean_breeze_color_schemes.dart",
      class: "OceanBreezeColorSchemes",
      section: "在现有颜色常量定义区域添加番茄时钟专用颜色",
      note: "所有颜色都应该定义为静态常量，遵循现有的命名规范",
    },
  },

  // ===========================================
  // 3. 布局结构
  // ===========================================
  layout: {
    // 全屏布局
    fullScreen: true,
    
    // 隐藏导航栏
    hideNavigation: true,
    
    // 顶部状态栏
    topBar: {
      // 显示：返回/最小化按钮
      showBackButton: true,
      // 透明或半透明背景
      background: "transparent_or_semi_transparent",
      // 按钮位置：左上角
      position: "topLeft",
    },
    
    // 内容区域布局（垂直居中）
    contentLayout: {
      // 使用 Column 垂直布局
      direction: "vertical",
      // 主轴线：居中
      mainAxisAlignment: "center",
      // 交叉轴线：居中
      crossAxisAlignment: "center",
      // 使用 SafeArea 确保不被系统 UI 遮挡
      safeArea: true,
      // 内边距
      padding: {
        horizontal: 24,
        vertical: 32,
      },
    },
    
    // 区域划分
    sections: [
      {
        // 区域1：计时显示区域
        name: "timerDisplay",
        position: "top",
        weight: "flexible",
        children: [
          "forwardTimer",  // 正向计时
          "countdownTimer",  // 倒计时（带环形图）
        ],
      },
      {
        // 区域2：任务信息区域
        name: "taskInfo",
        position: "middle",
        weight: "flexible",
        children: [
          "taskName",
          "projectName",
          "milestoneName",
        ],
      },
      {
        // 区域3：功能区域
        name: "functions",
        position: "middle",
        weight: "flexible",
        children: [
          "taskAnalysis",
          "addSubtask",
          "subtaskList",
        ],
      },
      {
        // 区域4：操作按钮区域
        name: "actions",
        position: "bottom",
        weight: "fixed",
        children: [
          "startButton",
          "completeButton",
          "pauseButton",
          "soundToggle",
        ],
      },
    ],
  },

  // ===========================================
  // 4. 计时显示设计
  // ===========================================
  timerDisplay: {
    // 正向计时（大号显示）
    forwardTimer: {
      // 显示位置：顶部，居中
      position: "top_center",
      
      // 字体样式
      typography: {
        // 字号：80-120sp（动态，根据屏幕大小调整）
        fontSize: {
          min: 80,
          max: 120,
          responsive: true,
        },
        // 字体：等宽数字（tabular figures）
        fontFamily: "monospace_or_tabular",
        // 字重：粗体
        fontWeight: "bold",
        // 颜色：白色（Light）/ 浅色（Dark）
        color: {
          light: "#FFFFFF",
          dark: "#F5FAFC",  // 天际白
        },
      },
      
      // 视觉效果
      visualEffects: {
        // 轻微发光效果
        glow: {
          enabled: true,
          color: "rgba(255, 255, 255, 0.3)",
          blur: 8,
        },
        // 阴影效果
        shadow: {
          enabled: true,
          color: "rgba(0, 0, 0, 0.3)",
          offset: [0, 2],
          blur: 4,
        },
      },
      
      // 显示格式：HH:MM:SS
      format: "HH:MM:SS",
      
      // 动画：数字变化时的过渡效果
      animation: {
        type: "fade_in",
        duration: 300,
      },
    },
    
    // 倒计时（小号显示 + 环形图）
    countdownTimer: {
      // 显示位置：正向计时下方
      position: "below_forward_timer",
      
      // 布局：环形图 + 数字居中显示
      layout: "circular_progress_with_center_text",
      
      // 字体样式
      typography: {
        // 字号：40-60sp
        fontSize: {
          min: 40,
          max: 60,
          responsive: true,
        },
        // 字体：等宽数字
        fontFamily: "monospace_or_tabular",
        // 字重：中等
        fontWeight: "medium",
        // 颜色：根据状态变化
        color: {
          normal: "OceanBreezeColorSchemes.seaSaltBlue",  // 正常：海盐蓝
          warning: "OceanBreezeColorSchemes.pomodoroVibrantOrange",  // 警告（< 5分钟）：橙色
          overtime: "Theme.colorScheme.error",  // 超时：error 色（使用 theme，已在 ColorScheme 中定义）
        },
      },
      
      // 环形进度条设计
      circularProgress: {
        // 环形大小
        size: {
          diameter: 200,  // 直径（dp）
          strokeWidth: 8,  // 线条宽度（dp）
        },
        
        // 正常状态（倒计时进行中）
        normal: {
          // 颜色：海盐蓝 → 薄荷青（渐变）
          color: "OceanBreeze.seaSaltBlue_to_mintCyan_gradient",
          // 填充方向：顺时针
          direction: "clockwise",
          // 从 0% 填充到 100%
          progress: "0_to_100_percent",
        },
        
        // 警告状态（倒计时 < 5分钟）
        warning: {
          // 颜色：橙色
          color: "#FFA07A",
          // 填充方向：顺时针
          direction: "clockwise",
          // 继续填充
          progress: "continue_from_normal",
        },
        
        // 超时状态（倒计时 < 0）
        overtime: {
          // 方案1：反向填充 + 颜色变化
          design: "reverse_fill_with_color_change",
          
          // 实现细节
          implementation: {
            // 颜色：error 色（番茄红）
            color: "Theme.of(context).colorScheme.error",
            
            // 填充方向：逆时针（反向）
            direction: "counter_clockwise",
            
            // 填充计算：超时百分比
            progressCalculation: {
              // 超时百分比 = |超时秒数| / 原始时长
              formula: "abs(overtimeSeconds) / originalDurationSeconds",
              // 从 0% 开始反向填充
              start: 0.0,
              // 最大填充到 100%（如果超时很长）
              max: 1.0,
            },
            
            // 动画：反向填充动画
            animation: {
              type: "reverse_fill",
              duration: 1000,  // 1秒动画
              curve: "Curves.easeOut",
            },
          },
          
          // 视觉示例
          visualExample: {
            // 倒计时 25:00 → 00:00：蓝色环形，顺时针填充到 100%
            normal: "蓝色环形，顺时针 0% → 100%",
            
            // 倒计时 -05:23：红色环形，从 0% 逆时针填充到 21%
            overtime: "红色环形，逆时针 0% → 21% (5.23/25 = 0.21)",
          },
        },
      },
      
      // 数字显示
      numberDisplay: {
        // 显示格式：MM:SS 或 -MM:SS（超时时）
        format: "MM:SS_or_negative_MM:SS",
        
        // 颜色变化
        colorChange: {
          normal: "OceanBreezeColorSchemes.seaSaltBlue",
          warning: "OceanBreezeColorSchemes.pomodoroVibrantOrange",  // < 5分钟：橙色
          overtime: "Theme.colorScheme.error",  // 超时：红色（使用 theme，已在 ColorScheme 中定义）
        },
      },
    },
  },

  // ===========================================
  // 5. 音频提醒设计
  // ===========================================
  audioAlerts: {
    // 倒计时提醒音
    countdownAlerts: [
      {
        // 倒计时10分钟提醒
        trigger: {
          condition: "countdown_remaining == 10_minutes",
          // 只触发一次
          once: true,
        },
        
        // 播放配置
        playback: {
          // 音频文件
          soundFile: "assets/sounds/di.wav",
          // 播放次数：1次
          times: 1,
          // 播放时机：倒计时到达10分钟时
          timing: "when_countdown_reaches_10_minutes",
        },
      },
      
      {
        // 倒计时5分钟提醒
        trigger: {
          condition: "countdown_remaining == 5_minutes",
          // 只触发一次
          once: true,
        },
        
        // 播放配置
        playback: {
          // 音频文件
          soundFile: "assets/sounds/di.wav",
          // 播放次数：2次
          times: 2,
          // 播放间隔：500ms（两次播放之间的间隔）
          interval: 500,
          // 播放时机：倒计时到达5分钟时
          timing: "when_countdown_reaches_5_minutes",
        },
      },
      
      {
        // 倒计时完成提醒
        trigger: {
          condition: "countdown_remaining == 0_minutes",
          // 只触发一次
          once: true,
        },
        
        // 播放配置
        playback: {
          // 音频文件
          soundFile: "assets/sounds/dieline.wav",
          // 播放次数：1次
          times: 1,
          // 播放时机：倒计时归零时
          timing: "when_countdown_reaches_zero",
        },
      },
    ],
    
    // 实现注意事项
    implementationNotes: {
      // 1. 需要检查用户是否开启了声音提醒（设置开关）
      checkUserPreference: true,
      
      // 2. 需要防止重复触发（使用标志位记录是否已播放）
      preventDuplicate: true,
      
      // 3. 播放音频时不应影响计时器的运行
      nonBlocking: true,
      
      // 4. 如果用户暂停了计时，提醒音不应播放
      onlyWhenRunning: true,
    },
  },

  // ===========================================
  // 6. 任务信息显示设计
  // ===========================================
  taskInfo: {
    // 任务名称
    taskName: {
      // 显示位置：计时显示下方
      position: "below_timer_display",
      
      // 字体样式
      typography: {
        fontSize: 24,
        fontWeight: "semiBold",
        color: {
          light: "#FFFFFF",
          dark: "#F5FAFC",
        },
      },
      
      // 背景：半透明卡片
      background: {
        type: "semi_transparent_card",
        color: "rgba(255, 255, 255, 0.1)",
        borderRadius: 16,
        padding: 16,
      },
    },
    
    // 项目名称和里程碑
    projectMilestone: {
      // 显示位置：任务名称下方
      position: "below_task_name",
      
      // 字体样式
      typography: {
        fontSize: 16,
        fontWeight: "regular",
        color: {
          light: "rgba(255, 255, 255, 0.8)",
          dark: "rgba(245, 250, 252, 0.8)",
        },
      },
      
      // 布局：水平排列，使用 Chip 或 Badge
      layout: "horizontal_chips",
    },
  },

  // ===========================================
  // 7. 功能区域设计
  // ===========================================
  functionArea: {
    // 任务分析
    taskAnalysis: {
      // 使用 FlexibleDescriptionInput 组件
      component: "FlexibleDescriptionInput",
      
      // 样式调整：适配全屏沉浸式背景
      style: {
        // 背景：半透明
        background: "rgba(255, 255, 255, 0.1)",
        // 文字颜色：白色/浅色
        textColor: {
          light: "#FFFFFF",
          dark: "#F5FAFC",
        },
      },
    },
    
    // 添加子任务
    addSubtask: {
      // 按钮样式：Material 3 风格
      buttonStyle: {
        type: "OutlinedButton",
        // 背景：半透明
        background: "rgba(255, 255, 255, 0.1)",
        // 边框：白色/浅色
        borderColor: {
          light: "rgba(255, 255, 255, 0.3)",
          dark: "rgba(245, 250, 252, 0.3)",
        },
      },
    },
    
    // 子任务列表
    subtaskList: {
      // 列表样式：卡片式
      listStyle: "card_based",
      
      // 每个子任务卡片
      itemCard: {
        // 背景：半透明
        background: "rgba(255, 255, 255, 0.1)",
        // 圆角
        borderRadius: 12,
        // 内边距
        padding: 16,
      },
      
      // 开始计时按钮
      startTimerButton: {
        // 样式：IconButton + 文字
        style: "icon_with_label",
        // 颜色：主题色
        color: "OceanBreeze.seaSaltBlue",
      },
    },
  },

  // ===========================================
  // 8. 操作按钮设计
  // ===========================================
  actionButtons: {
    // 按钮区域位置
    position: "bottom_fixed",
    
    // 按钮布局：水平排列
    layout: "horizontal_row",
    
    // 按钮间距
    spacing: 16,
    
    // 按钮样式
    buttonStyles: {
      // 开始按钮
      start: {
        type: "FilledButton",
        size: "large",  // 48-56dp 高度
        backgroundColor: "OceanBreeze.seaSaltBlue",
        textColor: "#FFFFFF",
        icon: "Icons.play_arrow_rounded",
      },
      
      // 完成按钮
      complete: {
        type: "FilledButton",
        size: "large",
        backgroundColor: "#4ECDC4",  // 成功绿
        textColor: "#FFFFFF",
        icon: "Icons.check_circle_outline",
      },
      
      // 暂停/继续按钮
      pauseResume: {
        type: "OutlinedButton",
        size: "large",
        borderColor: "rgba(255, 255, 255, 0.3)",
        textColor: "#FFFFFF",
        // 暂停图标
        pauseIcon: "Icons.pause_circle_outline",
        // 继续图标
        resumeIcon: "Icons.play_circle_outline",
      },
      
      // 声音开关
      soundToggle: {
        type: "IconButton",
        // Switch 样式
        style: "switch_or_icon_button",
        icon: "Icons.volume_up_outlined",
        offIcon: "Icons.volume_off_outlined",
      },
    },
  },

  // ===========================================
  // 9. 动画效果
  // ===========================================
  animations: {
    // 页面进入动画
    pageEnter: {
      type: "fade_in",
      duration: 300,
      curve: "Curves.easeOut",
    },
    
    // 倒计时进度条动画
    countdownProgress: {
      type: "smooth_fill",
      duration: 1000,  // 每秒更新
      curve: "Curves.linear",
    },
    
    // 超时反向填充动画
    overtimeReverseFill: {
      type: "reverse_fill",
      duration: 1000,
      curve: "Curves.easeOut",
    },
    
    // 超时状态脉冲动画（可选）
    overtimePulse: {
      enabled: false,  // 方案1不使用脉冲，只使用反向填充
      type: "pulse",
      duration: 1000,
      repeat: true,
    },
    
    // 完成庆祝动画
    completeCelebration: {
      type: "scale_and_fade",
      duration: 500,
      curve: "Curves.easeOut",
    },
    
    // 背景渐变呼吸效果
    backgroundBreathing: {
      enabled: true,
      type: "scale",
      duration: 3000,  // 3秒一个周期
      scaleRange: [1.0, 1.05],  // 轻微缩放
      repeat: true,
    },
  },

  // ===========================================
  // 10. 响应式设计
  // ===========================================
  responsive: {
    // 手机竖屏
    mobilePortrait: {
      // 布局：垂直居中
      layout: "vertical_centered",
      // 计时器字号：80sp
      timerFontSize: 80,
      // 倒计时字号：40sp
      countdownFontSize: 40,
    },
    
    // 平板横屏
    tabletLandscape: {
      // 布局：内容可横向分布
      layout: "horizontal_distributed",
      // 计时器字号：100sp
      timerFontSize: 100,
      // 倒计时字号：50sp
      countdownFontSize: 50,
    },
    
    // 桌面
    desktop: {
      // 布局：居中显示，最大宽度限制
      layout: "centered_with_max_width",
      maxWidth: 800,
      // 计时器字号：120sp
      timerFontSize: 120,
      // 倒计时字号：60sp
      countdownFontSize: 60,
    },
  },

  // ===========================================
  // 11. 手势支持（可选）
  // ===========================================
  gestures: {
    // 双击：暂停/继续
    doubleTap: {
      enabled: false,  // 默认关闭，避免误触
      action: "toggle_pause",
    },
    
    // 长按：快速完成
    longPress: {
      enabled: false,  // 默认关闭，避免误触
      action: "quick_complete",
    },
    
    // 上滑：收起详细信息（可选）
    swipeUp: {
      enabled: false,  // 默认关闭
      action: "collapse_details",
    },
  },
}

