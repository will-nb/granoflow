meta:
  name: GranoFlow
  version: 1.0
  platform: [Android, iOS, macOS]
  storage: Isar object database (è‡ªå¢Idè®¾è®¡ï¼Œé«˜æ€§èƒ½)
  offline: true
  description: >
    GranoFlow æ˜¯ä¸€ä¸ªç¦»çº¿çš„æ—¶é—´ä¸ä»»åŠ¡ç®¡ç†å·¥å…·ï¼Œ
    ç”¨æˆ·å¯ä»¥æ·»åŠ ä»»åŠ¡ã€è®¾ç½®æˆªæ­¢æ—¶é—´ã€è¿›è¡Œè®¡æ—¶ã€å½’æ¡£å’Œåˆ é™¤ï¼Œ
    æ‰€æœ‰æ•°æ®ä¿å­˜åœ¨æœ¬åœ°ã€‚

pages:
  - id: home_dashboard
    name: é¦–é¡µæ•ˆç‡æ¦‚è§ˆ
    purpose: æ¿€å‘ç”¨æˆ·ç»§ç»­æŠ•å…¥å·¥ä½œï¼Œå¿«é€Ÿå±•ç¤ºæˆæœä¸å½“æ—¥ä»»åŠ¡çŠ¶æ€
    components:
      - headline: é¼“èˆå¼é—®å€™è¯­ï¼ˆä¾èµ–æœ¬åœ°åŒ–æ–‡æ¡ˆï¼‰
      - metric_total_completed: ç´¯è®¡å®Œæˆä»»åŠ¡æ•°é‡å¡ç‰‡
      - metric_total_time: ç´¯è®¡ä¸“æ³¨æ—¶é•¿å¡ç‰‡ï¼ˆå°æ—¶ + åˆ†é’Ÿæ˜¾ç¤ºï¼‰
      - metric_pending_total: å½“å‰å¾…å®Œæˆä»»åŠ¡æ€»æ•°å¡ç‰‡
      - metric_pending_today: ä»Šæ—¥éœ€å®Œæˆä»»åŠ¡æ•°é‡å¡ç‰‡
      - action_plan_today: è¿›å…¥æ”¶é›†ç®±æŒ‰é’®ï¼Œé™„ç®€çŸ­æè¿°å¸®åŠ©ç”¨æˆ·å…ˆè§„åˆ’
      - action_start_work: æ‰“å¼€ä»»åŠ¡åˆ—è¡¨æŒ‰é’®ï¼Œé™„ç®€çŸ­æè¿°å¼•å¯¼ç«‹å³å¼€å§‹
    interactions:
      - tap_action_plan_today: æ‰“å¼€æ”¶é›†ç®±é¡µé¢å¹¶åˆ‡æ¢åˆ°è§„åˆ’æ¨¡å¼
      - tap_action_start_work: æ‰“å¼€ä»»åŠ¡æ¸…å•é¡µå¹¶å®šä½åˆ° today åˆ†æ 
      - pull_to_refresh: åˆ·æ–°ä»»åŠ¡ç»Ÿè®¡æ•°æ®ï¼Œç¡®ä¿å¤šè®¾å¤‡åŒæ­¥æ—¶å³æ—¶æ›´æ–°
    data_bind:
      metrics_source: TaskRepository
      fields:
        totalCompleted: ç»Ÿè®¡ status in [completed_active, archived] çš„ä»»åŠ¡æ•°é‡
        totalFocusMinutes: æ±‡æ€»æ‰€æœ‰è®¡æ—¶ä¼šè¯çš„ actualMinutes
        pendingTotal: ç»Ÿè®¡ status in [pending, doing] çš„ä»»åŠ¡æ•°é‡
        pendingToday: ç»Ÿè®¡ dueAt=today 23:59:59 ä¹‹å‰ä¸” status in [pending, doing] çš„ä»»åŠ¡æ•°é‡
      display_rules:
        zero_state: å½“æ‰€æœ‰æŒ‡æ ‡ä¸º0æ—¶å±•ç¤ºé¼“åŠ±æ–‡æ¡ˆï¼Œæç¤ºå…ˆä»æ”¶é›†ç®±å¼€å§‹
        large_numbers: è¶…è¿‡999æ—¶åœ¨æ•°å€¼ååŠ  "+" å·ï¼Œé˜²æ­¢å ç”¨è¿‡å¤šç©ºé—´
    tone_and_copy:
      plan_cta_description: "å…ˆæ¢³ç†ä»Šå¤©çš„è®¡åˆ’ï¼Œè®©çµæ„Ÿæœ‰åºè½åœ°ã€‚"
      work_cta_description: "è®¡åˆ’å·²å®šï¼Œé©¬ä¸Šå¼€å·¥é€ä¸ªå®Œæˆã€‚"

  - id: main_navigation
    name: ä¸»å¯¼èˆªèœå•
    purpose: å³ä¸Šè§’ä¸»å¯¼èˆªæŒ‰é’®ï¼Œå¼¹å‡ºèœå•é€‰æ‹©é¡µé¢å’Œè®¾ç½®
    components:
      - navigation_button: å³ä¸Šè§’èœå•å›¾æ ‡æŒ‰é’®
      - navigation_popup: å¼¹å‡ºèœå•ï¼ŒåŒ…å«é¡µé¢å¯¼èˆªå’Œè®¾ç½®é€‰é¡¹
      - page_list: é¦–é¡µã€æ”¶é›†ç®±ã€ä»»åŠ¡åˆ—è¡¨ã€å·²å®Œæˆã€å½’æ¡£å¤„ã€åƒåœ¾ç®±
      - settings_section: å­—ä½“å¤§å°ã€å¤šå›½è¯­è¨€ã€æ˜æš—æ¨¡å¼åˆ‡æ¢
    interactions:
      - tap_navigation_button: å¼¹å‡ºå¯¼èˆªèœå•
      - select_page: åˆ‡æ¢åˆ°é€‰ä¸­çš„é¡µé¢
      - toggle_theme: åˆ‡æ¢æ˜æš—æ¨¡å¼
      - change_font_size: åˆ‡æ¢å­—ä½“å¤§å°ï¼ˆå°ã€ä¸­ã€å¤§ï¼‰
      - change_language: åˆ‡æ¢ç•Œé¢è¯­è¨€
      - dismiss_menu: ç‚¹å‡»å¤–éƒ¨æˆ–è¿”å›æŒ‰é’®å…³é—­èœå•
    trigger: å³ä¸Šè§’èœå•æŒ‰é’®

  - id: task_list
    name: ä»»åŠ¡æ¸…å•é¡µï¼ˆå¶å­ä»»åŠ¡+æ´»è·ƒçˆ¶ä»»åŠ¡ï¼Œæ‰‹é£ç´å¼å±•å¼€ï¼‰
    purpose: å±•ç¤ºå¶å­ä»»åŠ¡å’Œæ´»è·ƒçˆ¶ä»»åŠ¡ï¼ŒæŒ‰æˆªæ­¢æ—¶é—´åˆ†æ ï¼Œäº’æ–¥å±•å¼€æŸ¥çœ‹ä¸Šçº§ä»»åŠ¡é“¾
    components:
      - section: today
        label: ä»Šå¤©
        data_filter: (dueAt falls within user_local_today AND NOT has_children) OR (dueAt falls within user_local_today AND has_children AND all_children_completed_active)
      - section: tomorrow
        label: æ˜å¤©
        data_filter: (dueAt falls within user_local_tomorrow AND NOT has_children) OR (dueAt falls within user_local_tomorrow AND has_children AND all_children_completed_active)
      - section: later
        label: ä»¥å
        data_filter: (dueAt >= start_of_day_plus_2 AND NOT has_children) OR (dueAt >= start_of_day_plus_2 AND has_children AND all_children_completed_active)
      - mode_switcher: é¡¶éƒ¨æ˜¾å¼æŒ‰é’®/èœå•åˆ‡æ¢åŸºç¡€æ¨¡å¼ä¸ç¼–è¾‘æ¨¡å¼
      - edit_mode_toolbar: æ˜¾ç¤ºæ“ä½œæç¤ºï¼ˆé•¿æŒ‰æ‹–åŠ¨ã€ç‚¹å‡»æŒ‰é’®ç¼–è¾‘/å½’æ¡£/å¢å­ä»»åŠ¡ï¼‰
    interactions:
      - quick_add_section: åˆ†æ æ ‡é¢˜æ—æä¾›å¿«é€Ÿæ·»åŠ æŒ‰é’®ï¼Œç‚¹å‡»å¼¹å‡ºæœ€å°åŒ–è¡¨å•ï¼ˆæ ‡é¢˜ + å¯é€‰æˆªæ­¢æ—¥æœŸï¼Œé»˜è®¤æ¨ç®—æ‰€å¤„åˆ†æ ï¼‰
      - tap_base_mode: åŸºç¡€æ¨¡å¼ä¸‹å•å‡»å¶å­ä»»åŠ¡ç›´æ¥å¼€å§‹ä¸“æ³¨è®¡æ—¶
      - drag_base_mode: åŸºç¡€æ¨¡å¼ä¸‹é•¿æŒ‰å¹¶æ‹–åŠ¨å¶å­ä»»åŠ¡æ”¹å˜æ’åºæˆ–è·¨åˆ†æ ç§»åŠ¨ï¼ˆè‡ªåŠ¨è°ƒæ•´ dueAtï¼‰
      - toggle_edit_mode: é€šè¿‡æ¨¡å¼å…¥å£è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œå†æ¬¡ç‚¹å‡»è¿”å›åŸºç¡€æ¨¡å¼
      - tap_edit_expand_root: ç¼–è¾‘æ¨¡å¼ä¸‹ç‚¹å‡»æ ¹ä»»åŠ¡è¡Œå±•ç¤ºå…¶æ‰€æœ‰å­ä»»åŠ¡ï¼Œä¿æŒå•æ ¹å±•å¼€
      - long_press_drag_edit: ç¼–è¾‘æ¨¡å¼ä¸‹é•¿æŒ‰ä»»åŠ¡è¡Œå¹¶æ‹–åŠ¨ï¼Œæ”¯æŒåœ¨åŒä¸€æ ¹ä»»åŠ¡å†…æ’åºæˆ–æ‹–åˆ°å…¶ä»–æ ¹ä»»åŠ¡/é¡¶å±‚å½¢æˆçˆ¶å­ç»“æ„
      - drag_visual_feedback: æ‹–åŠ¨åˆ°ä»»åŠ¡ä¹‹é—´æ—¶æ˜¾ç¤ºåŠ ç²—åˆ†éš”çº¿ï¼›æ‚¬åœåœ¨ä»»åŠ¡ä¸Šæ–¹æ—¶è¡Œæœ¬èº«åŠ é®ç½©æç¤ºâ€œæ”¾å…¥å…¶ä¸‹â€
      - action_add_subtask: ç¼–è¾‘æ¨¡å¼å³ä¾§æŒ‰é’®ç«‹å³ä¸ºè¯¥ä»»åŠ¡æ–°å¢å­ä»»åŠ¡
      - action_edit: ç¼–è¾‘æ¨¡å¼å³ä¾§æŒ‰é’®æ‰“å¼€ç¼–è¾‘é¢æ¿ï¼ˆåŒ…å«æ ‡é¢˜ã€åœºæ™¯/ä¼˜å…ˆçº§æ ‡ç­¾ã€ä¸Šçº§ä»»åŠ¡é€‰æ‹©ç­‰åŠŸèƒ½ï¼‰
      - action_archive: ç¼–è¾‘æ¨¡å¼å³ä¾§æŒ‰é’®å°†ä»»åŠ¡å½’æ¡£ï¼ˆåˆ é™¤æ“ä½œç§»è‡³å½’æ¡£é¡µï¼‰
      - expand_parent_exclusive: ç¼–è¾‘æ¨¡å¼ä¸‹å±•å¼€å½“å‰æ ¹ä»»åŠ¡æ—¶è‡ªåŠ¨æ”¶èµ·å…¶ä»–æ ¹ä»»åŠ¡
      - collapse_parent: æ”¶èµ·å½“å‰ä»»åŠ¡çš„ä¸Šçº§ä»»åŠ¡é“¾
      - complete_task: æ‰‹å·¥å®Œæˆä»»åŠ¡ï¼Œstatus=doing â†’ status=completed_active
      - archive: å½’æ¡£ä»»åŠ¡ï¼Œstatus=completed_active â†’ status=archived
    data_bind:
      model: Task
      visible_when: status in [pending, doing, completed_active] AND (NOT has_children OR all_children_completed_active)
      display_format: "{icon} {taskId}: {title}"
      icon_logic: "status == 'completed_active' ? 'âœ…' : (has_children ? 'ğŸ“' : 'ğŸ“„')"
      show_taskid: true (ä¾¿äºç¬”è®°å·¥å…·è¿½æº¯)
      expandable: "accordion" (äº’æ–¥æ‰‹é£ç´æ¨¡å¼ï¼Œåªå±•å¼€ä¸€ä¸ªä»»åŠ¡é“¾)
    due_date_notes:
      - â€œä»Šå¤©/æ˜å¤©/æœ¬å‘¨/å½“æœˆâ€ä»…ä½œä¸ºæ—¥æœŸå¿«æ·é€‰æ‹©çš„æ–‡æ¡ˆæç¤ºï¼Œå†…éƒ¨ä»ä»¥ç”¨æˆ·æ‰€é€‰å…·ä½“æ—¥å­çš„ 23:59:59ï¼ˆæœ¬åœ°æ—¶åŒºï¼‰å†™å…¥ `dueAt`.
      - åˆ—è¡¨åˆ†æ ä¾æ® `dueAt` æ‰€å±çš„æœ¬åœ°æ—¥å†æ—¥è‡ªåŠ¨å½’ç±»ï¼Œä¸ä¾èµ–å…·ä½“æŒ‰é’®æ–‡æ¡ˆæˆ– UI åˆ†ç»„ã€‚

  - id: task_templates
    name: ä»»åŠ¡æ¨¡æ¿
    purpose: è®©é‡å¤æ€§ä»»åŠ¡å¿«é€Ÿç”Ÿæˆæ ‡å‡†åŒ–å¾…åŠï¼Œç¼©çŸ­è®¡åˆ’æ—¶é—´
    components:
      - template_list: æœ€è¿‘ä½¿ç”¨çš„æ¨¡æ¿ï¼ŒæŒ‰æœ€è¿‘å®ä¾‹åŒ–æ—¶é—´å€’åºå±•ç¤º
      - search_field: æ”¯æŒå…³é”®å­—æˆ–æ ‡ç­¾è¿‡æ»¤æ¨¡æ¿
      - template_detail: æ˜¾ç¤ºæ¨¡æ¿æ ‡é¢˜ä¸å…³è”çš„ä¸Šçº§ä»»åŠ¡
      - apply_button: ä¸€é”®ç”Ÿæˆä»»åŠ¡ï¼ˆå¯é€‰è®¾ç½®æˆªæ­¢æ—¥æœŸ/æ ‡ç­¾ï¼‰
      - manage_entrypoint: è·³è½¬åˆ°æ¨¡æ¿ç®¡ç†é¡µï¼ˆåˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤æ¨¡æ¿ï¼‰
    interactions:
      - auto_complete_input: åœ¨ä»»åŠ¡è¾“å…¥æ¡†ä¸­è¾“å…¥å­—ç¬¦å³æ˜¾ç¤ºæ¨¡æ¿å»ºè®®ï¼Œå…è®¸ç›´æ¥å¥—ç”¨
      - apply_template: é€‰æ‹©æ¨¡æ¿åè‡ªåŠ¨åˆ›å»ºä»»åŠ¡ï¼ˆæ ‡é¢˜ã€çˆ¶ä»»åŠ¡ã€é»˜è®¤æ ‡ç­¾å‡ç»§æ‰¿æ¨¡æ¿ï¼‰
      - edit_template: åœ¨ç®¡ç†é¡µä¿®æ”¹æ¨¡æ¿æ ‡é¢˜ã€é»˜è®¤çˆ¶ä»»åŠ¡ã€é»˜è®¤æ ‡ç­¾
      - delete_template: åˆ é™¤æ¨¡æ¿å‰æ ¡éªŒæ˜¯å¦ä»æœ‰å—ä¿æŠ¤çš„çˆ¶ä»»åŠ¡ï¼Œè‹¥åˆ é™¤çˆ¶ä»»åŠ¡éœ€å…ˆç§»é™¤æ¨¡æ¿
    rules:
      - protected_parent: è¢«æ¨¡æ¿å¼•ç”¨çš„çˆ¶ä»»åŠ¡ä¸å¯åˆ é™¤ã€å½’æ¡£æˆ–æ ‡è®°å·²å®Œæˆï¼›è‹¥å°è¯•ï¼Œéœ€æç¤ºå…ˆåˆ é™¤å¯¹åº”æ¨¡æ¿
      - instantiation_history: è®°å½•æ¨¡æ¿æœ€è¿‘ä¸€æ¬¡åº”ç”¨æ—¶é—´ï¼Œä¾›æ’åºä½¿ç”¨
      - template_scope: æ¨¡æ¿ä»…ç”Ÿæˆå¶å­ä»»åŠ¡ï¼Œç¦æ­¢å«å­ä»»åŠ¡çš„æ¨¡æ¿ï¼›å¯é€‰é»˜è®¤ due date ä¸ºâ€œæ— â€

  - id: timer_page
    name: è®¡æ—¶é¡µ
    purpose: æ‰§è¡Œå½“å‰ä»»åŠ¡çš„è®¡æ—¶ä¸å®Œæˆï¼ˆéœ€ä¸»åŠ¨å¼€å¯é—¹é’Ÿï¼‰
    components:
      - timer_display: ä»0å¼€å§‹æ­£è®¡æ—¶
      - buttons: [pause, end_session]
      - alarm_toggle: å¯é€‰æ‹©å¼€å¯é—¹é’Ÿå¹¶è®¾ç½®é¢„ä¼°æ—¶é—´
      - timeout_indicator: ä»…åœ¨å¼€å¯é—¹é’Ÿæ—¶æ˜¾ç¤ºï¼Œè¶…æ—¶åè¡¨ç›˜å˜çº¢ + å°å·è¶…æ—¶æ—¶é—´æ˜¾ç¤º
      - quick_subtask_button: åˆ›å»ºå­ä»»åŠ¡å¹¶è½¬ç§»è®¡æ—¶
    interactions:
      - alarm_toggle: ç”¨æˆ·å¯é€‰æ‹©å¼€å¯é—¹é’Ÿå¹¶è®¾ç½®estimateMinutesï¼Œæ— é—¹é’Ÿæ—¶çº¯è®¡æ—¶
      - end_session: æ‰“å¼€ç»“æŸä¼šè¯å¯¹è¯æ¡†ï¼Œæä¾›å¤šç§å®Œæˆé€‰é¡¹
      - timeout: ä»…åœ¨å¼€å¯é—¹é’Ÿæ—¶ç”Ÿæ•ˆï¼Œåˆ°è¾¾é¢„ä¼°æ—¶é—´åè¡¨ç›˜å˜çº¢ä½†ä¸æ‰“æ–­ç”¨æˆ·
      - quick_subtask: åˆ›å»ºæ–°ä»»åŠ¡ä½œä¸ºå½“å‰ä»»åŠ¡å­ä»»åŠ¡ï¼Œå·²ç”¨æ—¶é—´è½¬ç§»åˆ°æ–°ä»»åŠ¡ï¼ŒåŸä»»åŠ¡ä¿æŒçŠ¶æ€ä½†æ ‡è®°ä¸ºæœ‰æ´»è·ƒå­ä»»åŠ¡ï¼ˆå¯é€’å½’åµŒå¥—ï¼Œæ— é™å±‚çº§ï¼‰
    data_bind:
      model: Task
      updates: [status, startedAt, endedAt, actualMinutes, parentId]

  - id: end_session_dialog
    name: ç»“æŸè®¡æ—¶å¯¹è¯æ¡†
    purpose: ä¸ºä¸“æ³¨æ—¶æ®µæä¾›æœ‰ä»·å€¼çš„ç»“æœé€‰é¡¹ï¼Œè®°å½•å®é™…ä½¿ç”¨æ—¶é—´å¹¶ç®¡ç†ä»»åŠ¡å®ŒæˆçŠ¶æ€
    components:
      - session_summary: æ˜¾ç¤ºæœ¬æ¬¡è®¡æ—¶æ€»æ—¶é•¿ã€é¢„ä¼°vså®é™…å¯¹æ¯”ï¼ˆå¦‚æœæœ‰é¢„ä¼°ï¼‰
      - time_analysis: estimateMinutes vs actualMinuteså¯¹æ¯”åˆ†æ
      - completion_options:
        - complete_current: å®Œæˆå½“å‰ä»»åŠ¡ï¼ˆå­ä»»åŠ¡è¿›å…¥å·²å®Œæˆåˆ—è¡¨ï¼Œå¶å­ä»»åŠ¡è¿›å…¥å·²å®ŒæˆçŠ¶æ€ï¼‰
        - create_subtask: åœ¨å½“å‰ä»»åŠ¡ä¸‹åˆ›å»ºæ–°å­ä»»åŠ¡ï¼ˆç»§æ‰¿è®¡æ—¶ï¼‰
        - add_multiple_tasks: æ·»åŠ å¤šä¸ªç‹¬ç«‹ä»»åŠ¡ï¼ˆå¦‚æœå®Œæˆäº†å¤šä¸ªäº‹é¡¹ï¼‰
        - mark_as_wasted: æ ‡è®°ä¸ºæµªè´¹æ—¶é—´ï¼ˆä»…åœ¨æ­¤å¯¹è¯æ¡†å¯ç”¨ï¼‰
    interactions:
      - complete_current: è®°å½•endedAtå’ŒactualMinutesï¼Œæ›´æ–°status=doing â†’ status=completedï¼ˆå­ä»»åŠ¡è¿›å…¥å·²å®Œæˆåˆ—è¡¨ï¼‰
      - create_subtask: è®°å½•endedAtå’ŒactualMinutesï¼Œåˆ›å»ºæ–°å­ä»»åŠ¡å¹¶è½¬ç§»è®¡æ—¶ï¼Œç»§ç»­å½“å‰ä»»åŠ¡æ ‘
      - add_multiple_tasks: è®°å½•endedAtå’ŒactualMinutesï¼Œåˆ›å»ºå¤šä¸ªæ–°ä»»åŠ¡ï¼Œåˆ†é…æœ¬æ¬¡è®¡æ—¶æ—¶é—´
      - mark_as_wasted: è®°å½•endedAtå’ŒactualMinutesï¼Œæ·»åŠ "wasted"æ ‡ç­¾ï¼Œstatus=doing â†’ status=completed
    trigger: ä»timer_pageçš„end_sessionæŒ‰é’®

  - id: inbox_page
    name: æ”¶é›†ç®±ï¼ˆä»…å¶å­ä»»åŠ¡ï¼Œæ‰‹é£ç´å¼å±•å¼€ï¼‰
    purpose: æš‚å­˜æœªè®¡åˆ’çš„å¶å­ä»»åŠ¡ï¼Œä»…æ”¯æŒåŸºç¡€æ“ä½œï¼Œå¯äº’æ–¥å±•å¼€æŸ¥çœ‹ä¸Šçº§ä»»åŠ¡é“¾
    components:
      - persistent_input: é¡¶éƒ¨å¸¸é©»è¾“å…¥æ¡†ï¼Œæ”¯æŒé”®ç›˜å›è½¦å’Œæäº¤æŒ‰é’®
      - template_suggestions: è¾“å…¥æ¡†ä¸‹æ–¹æ¨¡æ¿æ¨è chipsï¼ˆæŒ‰æœ€è¿‘ä½¿ç”¨æ—¶é—´æ’åºï¼‰
      - inbox_list: æ˜¾ç¤ºæ”¶é›†ç®±é¡¹ç›®ï¼ŒæŒ‰åˆ›å»ºæ—¶é—´å€’åºï¼ˆæœ€æ–°åœ¨å‰ï¼‰
      - tag_panel: å±•å¼€ä»»åŠ¡åå±•ç¤ºâ€œåœºæ™¯â€(context) ä¸â€œä¼˜å…ˆçº§â€(priority) æ ‡ç­¾åˆ†åŒº
      - parent_selector: å±•å¼€æ—¶æä¾›è‡ªåŠ¨è¡¥å…¨è¾“å…¥æ¡†ï¼Œå¯æœç´¢å¹¶é€‰æ‹©ä¸Šçº§ä»»åŠ¡ï¼ˆå±•ç¤º taskId ä¸æ ‡é¢˜ï¼‰
      - accordion_parent_chain: äº’æ–¥å±•å¼€æ˜¾ç¤ºä¸Šçº§ä»»åŠ¡é“¾ï¼ˆä¸€æ¬¡åªå±•å¼€ä¸€ä¸ªï¼‰
    interactions:
      - add_text: å›è½¦æˆ–ç‚¹å‡»æäº¤åˆ›å»º Taskï¼ˆstatus=inboxï¼‰ï¼Œè‡ªåŠ¨åˆ†é…å…¨å±€å”¯ä¸€ taskIdï¼Œå°†æ–°ä»»åŠ¡ç½®é¡¶å¹¶ä¿æŒè¾“å…¥æ¡†ç„¦ç‚¹
      - add_template: ç‚¹å‡»æ¨¡æ¿ chip åˆ›å»ºä»»åŠ¡ï¼ˆç»§æ‰¿æ¨¡æ¿é»˜è®¤çˆ¶ä»»åŠ¡/æ ‡ç­¾ï¼Œå¯é€‰å…è®¸ç«‹å³å®Œæˆï¼‰
      - move_to_tasklist: ä¿®æ”¹status=inbox â†’ status=pendingï¼Œå¹¶è®¾dueAt
      - filter_by_context: æ ¹æ®é€‰ä¸­çš„contextæ ‡ç­¾ç­›é€‰æ˜¾ç¤º
      - left_swipe: æ˜¾ç¤ºèœå•(edit, delete)
      - edit: ä¿®æ”¹ä»»åŠ¡æ ‡é¢˜å’Œcontextæ ‡ç­¾
      - delete: åˆ é™¤æ”¶é›†ç®±é¡¹ç›®è¿›å…¥åƒåœ¾ç®±ï¼Œstatus=inbox â†’ status=trashed
      - tap: åˆ‡æ¢å±•å¼€/æ”¶èµ·ä¸Šçº§ä»»åŠ¡é“¾ï¼ˆäº’æ–¥æ¨¡å¼ï¼‰
      - toggle_context_tag: åœ¨åœºæ™¯æ ‡ç­¾åŒºå•é€‰/å–æ¶ˆï¼ˆåŒä¸€æ—¶é—´ä»…å…è®¸ä¸€ä¸ª context æ ‡ç­¾ï¼Œå¦‚ @home ä¸ @mobile äº’æ–¥ï¼‰
      - toggle_priority_tag: åœ¨ä¼˜å…ˆçº§æ ‡ç­¾åŒºå•é€‰/å–æ¶ˆï¼ˆ#urgent/#not_urgent ä¸ #important/#not_important å‡ä¸ºäº’æ–¥å¯¹ï¼‰
      - choose_parent: é€šè¿‡è‡ªåŠ¨è¡¥å…¨æ¡†æŒ‰ taskId æˆ–æ ‡é¢˜å…³é”®è¯æœç´¢ï¼Œé€‰æ‹©åå°†å½“å‰ä»»åŠ¡æŒ‚åˆ°å¯¹åº”çˆ¶èŠ‚ç‚¹ï¼›æ¸…ç©ºé€‰æ‹©åˆ™æ¢å¤ä¸ºæ ¹èŠ‚ç‚¹
      - expand_parent_exclusive: å±•å¼€å½“å‰ä»»åŠ¡çš„ä¸Šçº§ä»»åŠ¡é“¾ï¼Œè‡ªåŠ¨æ”¶èµ·å…¶ä»–å·²å±•å¼€çš„ä»»åŠ¡é“¾
      - collapse_parent: æ”¶èµ·å½“å‰ä»»åŠ¡çš„ä¸Šçº§ä»»åŠ¡é“¾
    data_bind:
      model: Task
      display_order: æŒ‰åˆ›å»ºæ—¶é—´å€’åºï¼ˆæœ€æ–°åœ¨å‰ï¼‰
      display_format: "{icon} {taskId}: {title}"
      icon_logic: "'ğŸ“„'" (å¶å­ä»»åŠ¡å§‹ç»ˆæ˜¾ç¤ºæ–‡æ¡£å›¾æ ‡)
      show_taskid: true (ä¾¿äºç¬”è®°å·¥å…·è¿½æº¯)
      expandable: "accordion" (äº’æ–¥æ‰‹é£ç´æ¨¡å¼ï¼Œåªå±•å¼€ä¸€ä¸ªä»»åŠ¡é“¾)
    visible_when: status==inbox
    rules:
      - root_by_default: é»˜è®¤ä½œä¸ºæ ¹èŠ‚ç‚¹åˆ›å»ºä»»åŠ¡ï¼Œç”¨æˆ·å¯é€šè¿‡ä¸Šçº§é€‰æ‹©å™¨é‡æ–°æŒ‡å®šçˆ¶ä»»åŠ¡
      - highlight_new: åˆšåˆ›å»ºçš„ä»»åŠ¡åœ¨åˆ—è¡¨é¡¶éƒ¨çŸ­æš‚é«˜äº®

  - id: completed_page
    name: å·²å®Œæˆä¸å½’æ¡£ï¼ˆç»Ÿä¸€ç®¡ç†ï¼‰
    purpose: ç»Ÿä¸€æ˜¾ç¤ºå·²å®Œæˆå’Œå·²å½’æ¡£çš„ä»»åŠ¡ï¼Œæä¾›ä¸åŒçš„æ“ä½œé€‰é¡¹ï¼Œå·²å®Œæˆçˆ¶ä»»åŠ¡é»˜è®¤éšè—å­èŠ‚ç‚¹è¯¦æƒ…
    components:
      - task_list_tabs: åˆ‡æ¢æŸ¥çœ‹"å·²å®Œæˆ"æˆ–"å·²å½’æ¡£"ä»»åŠ¡
      - completed_section: æ˜¾ç¤ºå·²å®Œæˆä»»åŠ¡ï¼Œå¯é‡æ–°æ¿€æ´»æˆ–å½’æ¡£
      - archived_section: æ˜¾ç¤ºå·²å½’æ¡£ä»»åŠ¡ï¼Œå¯æ¢å¤æˆ–åˆ é™¤
      - filter_options: å¯ç­›é€‰æŸ¥çœ‹æ‰€æœ‰ä»»åŠ¡ã€ä»…çˆ¶ä»»åŠ¡æˆ–ä»…å¶å­ä»»åŠ¡
      - parent_node_summary: å·²å®Œæˆçˆ¶ä»»åŠ¡çš„å­ä»»åŠ¡ä¼šè¢«éšè—ï¼Œåªæ˜¾ç¤ºçˆ¶èŠ‚ç‚¹
      - accordion_completed_chain: äº’æ–¥å±•å¼€æ˜¾ç¤ºä»»åŠ¡çš„å­èŠ‚ç‚¹é“¾ï¼ˆä¸€æ¬¡åªå±•å¼€ä¸€ä¸ªï¼‰
    interactions:
      - switch_tab: åœ¨å·²å®Œæˆå’Œå·²å½’æ¡£ä¹‹é—´åˆ‡æ¢æ˜¾ç¤º
      - archive: å°†å·²å®Œæˆä»»åŠ¡å½’æ¡£ï¼Œstatus=completed â†’ status=archived
      - delete_completed: åˆ é™¤å·²å®Œæˆä»»åŠ¡è¿›å…¥åƒåœ¾ç®±ï¼Œstatus=completed â†’ status=trashed
      - reactivate: é‡æ–°æ¿€æ´»å·²å®Œæˆä»»åŠ¡ï¼Œstatus=completed â†’ status=pending
      - restore: æ¢å¤å·²å½’æ¡£ä»»åŠ¡ï¼Œstatus=archived â†’ status=pending
      - delete_archived: åˆ é™¤å·²å½’æ¡£ä»»åŠ¡ï¼Œstatus=archived â†’ status=trashed
      - view_details: æŸ¥çœ‹ä»»åŠ¡å®Œæˆè¯¦æƒ…ï¼ˆå®é™…ç”¨æ—¶ã€é¢„ä¼°å¯¹æ¯”ç­‰ï¼‰
      - tap: åˆ‡æ¢å±•å¼€/æ”¶èµ·å­ä»»åŠ¡è¯¦æƒ…ï¼ˆäº’æ–¥æ¨¡å¼ï¼‰
      - expand_completed_chain: å±•å¼€æ˜¾ç¤ºä»»åŠ¡çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼ˆåŒ…æ‹¬åµŒå¥—å­èŠ‚ç‚¹ï¼‰
      - collapse_completed_chain: æ”¶èµ·å­ä»»åŠ¡è¯¦æƒ…ï¼Œåªæ˜¾ç¤ºçˆ¶èŠ‚ç‚¹
    data_bind:
      model: Task
      display_order: æŒ‰endedAtå€’åºï¼ˆæœ€è¿‘å®Œæˆçš„åœ¨å‰ï¼‰
      display_format: "{icon} {taskId}: {title}"
      icon_logic: "status == 'archived' ? 'ğŸ“¦' : (has_children ? 'ğŸ“' : 'ğŸ“„')"
      show_taskid: true (ä¾¿äºç¬”è®°å·¥å…·è¿½æº¯)
      filter_logic: "status IN ('completed', 'archived') AND (NOT has_children OR all_descendants_completed)"
      expandable_completed: "accordion" (äº’æ–¥æ‰‹é£ç´æ¨¡å¼ï¼Œåªå±•å¼€ä¸€ä¸ªä»»åŠ¡é“¾)
    visible_when: status IN ('completed', 'archived')

  - id: trash_page
    name: åƒåœ¾ç®±
    purpose: å­˜æ”¾å·²åˆ é™¤ä»»åŠ¡
    interactions:
      - restore: æ”¹ status=pending
      - clear_all: æ ‡è®°ä¼ªåˆ é™¤ï¼Œstatus=trashed â†’ pseudo_deletedï¼ˆä¸å¯æ¢å¤ï¼Œä½†ä¿ç•™60å¤©å†…åŒæ­¥æ ¡éªŒæ•°æ®ï¼‰
    data_bind:
      model: Task
      visible_when: status==trashed
      display_format: "{icon} {taskId}: {title}"
      icon_logic: "has_children ? 'ğŸ“' : 'ğŸ“„'"
      show_taskid: true (ä¾¿äºç¬”è®°å·¥å…·è¿½æº¯)

  - id: date_picker
    name: æˆªæ­¢æ—¥æœŸé€‰æ‹©å™¨
    purpose: é€‰æ‹©ä»»åŠ¡æˆªæ­¢æ—¥æœŸï¼ˆä»…æœªæ¥ï¼‰
    display:
      - today: å½“å‰æ—¥æœŸ
      - tomorrow: å½“å‰+1å¤©
      - this_week: æœ¬å‘¨å‘¨å…­
      - this_month: æœˆåº•
    rules:
      - cannot_select_past: true
      - save_on_tap: true
      - precision: day_end (23:59:59ï¼Œæœ¬åœ°æ—¶åŒº)
      - storage: é€‰å®šæ—¥æœŸæ‰©å±•è‡³ç”¨æˆ·æœ¬åœ°æ—¶åŒºçš„23:59:59ï¼Œéšåè½¬æ¢ä¸ºUTCå†™å…¥dueAt

data_model:
  Task:
    fields:
      id: int (Isaræ•°æ®åº“ä¸»é”®ï¼Œç”¨æˆ·ä¸å¯è§)
      taskId: string (YYMMDDHHIISSæ ¼å¼ï¼Œä½¿ç”¨ç”¨æˆ·æœ¬åœ°æ—¶é—´ç”Ÿæˆçš„å¯è§å…¨å±€å”¯ä¸€ç¼–å·)
      parentId: int? (çˆ¶ä»»åŠ¡çš„æ•°æ®åº“idï¼Œé€šè¿‡å…³è”æŸ¥è¯¢è·å–parentTaskId)
      title: string(<=255)
      estimateMinutes: int? (ä»»åŠ¡é¢„ä¼°å®Œæˆæ—¶é—´ï¼Œåˆ†é’Ÿï¼Œä»…åœ¨ä¸»åŠ¨å¼€å¯é—¹é’Ÿæ—¶è®¾ç½®)
      dueAt: datetime(required, å­˜å‚¨ä¸ºUTCï¼Œæ¥æºäºç”¨æˆ·æœ¬åœ°æ—¥ç»ˆæ—¶é—´)
      status: enum(inbox,pending,doing,completed,completed_active,archived,trashed,pseudo_deleted)
      tags: list[string]
      createdAt: datetime (ä»¥UTCå­˜å‚¨)
      startedAt: datetime? (ä»»åŠ¡å¼€å§‹æ‰§è¡Œçš„UTCæ—¶é—´)
      endedAt: datetime? (ä»»åŠ¡å®Œæˆæ—¶çš„UTCæ—¶é—´)
      updatedAt: datetime (ä»¥UTCå­˜å‚¨ï¼Œè®°å½•æœ€è¿‘ä¸€æ¬¡æŒä¹…åŒ–å˜æ›´)
      actualMinutes: int? (å®é™…ä½¿ç”¨æ—¶é—´ï¼Œåˆ†é’Ÿï¼Œä»…åœ¨ç»“æŸæ—¶è®¡ç®—)
    rules:
      - visible: status in [pending,doing]
      - dueAt precision: day_end (æœ¬åœ°23:59:59ï¼Œå­˜å‚¨ä¸ºUTC)
      - utc_storage: æ‰€æœ‰æ—¶é—´æˆ³å­—æ®µï¼ˆcreatedAtã€dueAtã€startedAtã€endedAtã€updatedAtï¼‰ç»Ÿä¸€ä½¿ç”¨UTCå­˜å‚¨
      - pseudo_deleted_visibility: status=pseudo_deleted çš„è®°å½•ä»…ç”¨äºè·¨è®¾å¤‡åŒæ­¥æ¯”å¯¹ï¼Œä»»ä½•å®¢æˆ·ç«¯ç•Œé¢åŠå¯¼å‡ºæ•°æ®å‡ä¸å¯è§
      - pseudo_deleted_retention: status=pseudo_deleted ä¸” updatedAt è¶…è¿‡60å¤©çš„è®°å½•ï¼Œåœ¨åç«¯æˆ–æœ¬åœ°ä¿å…»ä»»åŠ¡ä¸­è‡ªåŠ¨ç‰©ç†åˆ é™¤
      - wasted_tag_usage: "wasted"æ ‡ç­¾ä»…å…è®¸åœ¨ç»“æŸè®¡æ—¶å¯¹è¯æ¡†ä¸­æ·»åŠ ï¼Œä¸å…è®¸åœ¨å¸¸è§„ä»»åŠ¡ç¼–è¾‘æ—¶ä¸»åŠ¨é€‰æ‹©
      - user_facing_id: taskId æ˜¯ç”¨æˆ·å¯è§çš„å”¯ä¸€æ ‡è¯†ï¼Œidä»…ä¾›æ•°æ®åº“å†…éƒ¨ä½¿ç”¨
      - sync_identity: å¯¼å…¥/å¯¼å‡ºåŠå¤šè®¾å¤‡åŒæ­¥ä»¥taskIdä¸ºåŒ¹é…é”®ï¼Œç¦æ­¢ä½¿ç”¨æœ¬åœ°è‡ªå¢idå¯¹é½è®°å½•
      - taskId_immutable: taskIdä¸€æ—¦åˆ›å»ºä¸å¯ä¿®æ”¹ï¼Œç¡®ä¿å†å²å¯è¿½æº¯æ€§
      - parent_relationship: é€šè¿‡parentIdå…³è”æŸ¥è¯¢è·å–çˆ¶ä»»åŠ¡çš„taskIdï¼Œæ— éœ€å†—ä½™å­˜å‚¨
      - estimate_logic: estimateMinutesä»…åœ¨ä¸»åŠ¨å¼€å¯é—¹é’Ÿæ—¶è®¾ç½®ï¼Œå¸®åŠ©è¯†åˆ«ä»»åŠ¡è¯„ä¼°èƒ½åŠ›ç¼ºå¤±
      - actual_time_tracking: ç»“æŸæ—¶è‡ªåŠ¨è®¡ç®—actualMinutes = (endedAt - startedAt)ï¼Œä¸ºé¢„ä¼°å‡†ç¡®æ€§åˆ†ææä¾›ä¾æ®
      - inbox_context_only: status=inboxæ—¶åªèƒ½è®¾ç½®contextæ ‡ç­¾ï¼Œä¸å…è®¸priorityæ ‡ç­¾
      - has_children: è®¡ç®—å­—æ®µï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨æ´»è·ƒå­ä»»åŠ¡ï¼ˆå­ä»»åŠ¡çŠ¶æ€ä¸ºpending/doingï¼‰
      - project_milestone_isolation: é¡¹ç›®å’Œé‡Œç¨‹ç¢‘ï¼ˆtaskKind=project æˆ– taskKind=milestoneï¼‰ä¸åœ¨ä»»ä½•å¸¸è§„ä»»åŠ¡åˆ—è¡¨ä¸­æ˜¾ç¤ºï¼Œå³ä½¿å®ƒä»¬æ²¡æœ‰å­ä»»åŠ¡ï¼›è¿™æ˜¯ç³»ç»Ÿçš„æ ¸å¿ƒè®¾è®¡åŸåˆ™


status_flow:
  - from: inbox
    to: pending
    trigger: ç”¨æˆ·"åŠ å…¥ä»»åŠ¡"ï¼Œç»§æ‰¿åŸtaskIdç¼–å·
  - from: pending
    to: doing
    trigger: ç‚¹å‡»ä»»åŠ¡è¿›å…¥è®¡æ—¶
  - from: doing
    to: completed_active
    trigger: å­ä»»åŠ¡å®Œæˆè®¡æ—¶ï¼ˆè‡ªåŠ¨è¿›å…¥å¯ç¼–è¾‘å®ŒæˆçŠ¶æ€ï¼Œç•™åœ¨ä»»åŠ¡åˆ—è¡¨ï¼‰
  - from: doing
    to: completed_active
    trigger: æ‰‹å·¥ç‚¹å‡»å®Œæˆï¼ˆçˆ¶ä»»åŠ¡æ‰€æœ‰å­ä»»åŠ¡å®Œæˆåå¯æ‰‹å·¥å®Œæˆï¼‰
  - from: completed
    to: pending
    trigger: ç”¨æˆ·é‡æ–°æ¿€æ´»ä»»åŠ¡ï¼Œæ”¾å›ä»»åŠ¡åˆ—è¡¨ç»§ç»­å·¥ä½œ
  - from: completed
    to: archived
    trigger: ç”¨æˆ·é€‰æ‹©å½’æ¡£å·²å®Œæˆä»»åŠ¡
  - from: completed
    to: trashed
    trigger: ç”¨æˆ·åˆ é™¤å·²å®Œæˆä»»åŠ¡
  - from: any
    to: trashed
    trigger: åˆ é™¤ä»»åŠ¡
  - from: trashed
    to: pseudo_deleted
    trigger: æ¸…ç©ºåƒåœ¾ç®±ï¼ˆæ ‡è®°ä¸ºä¼ªåˆ é™¤ï¼Œä»…ç”¨äºåŒæ­¥æ ¡éªŒï¼‰
  - from: pseudo_deleted
    to: deleted
    trigger: è‡ªåŠ¨æ¸…ç†ï¼ˆupdatedAt è¶…è¿‡60å¤©çš„ä¼ªåˆ é™¤è®°å½•è¢«ç‰©ç†ç§»é™¤ï¼‰

logic_rules:
  global_task_numbering:
    - format: YYMMDDHHIISS (å¹´æœˆæ—¥æ—¶åˆ†ç§’å„2ä½ï¼Œå…±12ä½)
    - timezone_basis: ç”Ÿæˆç¼–å·æ—¶ä½¿ç”¨ç”¨æˆ·å½“å‰æœ¬åœ°æ—¶åŒº
    - uniqueness: taskIdå…¨å±€å”¯ä¸€ï¼Œä¸€æ—¦åˆ†é…ä¸å¯ä¿®æ”¹
    - anti_collision: åˆ›å»ºæ—¶æ£€æŸ¥å…¨å±€ç¼–å·å”¯ä¸€æ€§ï¼Œå¦‚é‡å¤åˆ™ç§’+1ï¼Œç›´è‡³æ‰¾åˆ°å”¯ä¸€ç¼–å·
    - generation: æ–°å»ºä»»åŠ¡æˆ–æ”¶é›†ç®±é¡¹ç›®æ—¶è‡ªåŠ¨åˆ†é…ï¼Œå…¨å±€å…±äº«ç¼–å·æ± ï¼Œæ— äººå·¥å¹²é¢„
    - retention: ä»æ”¶é›†ç®±è½¬ä¸ºæ­£å¼ä»»åŠ¡æ—¶ï¼Œä¿ç•™åŸtaskIdç¼–å·
    - immutability: taskIdåˆ›å»ºåä¸å¯ä¿®æ”¹ï¼Œç¡®ä¿å†å²å¯è¿½æº¯æ€§
  due_date:
    - parent_shorten:
        when: parent.dueAt < child.dueAt
        action: prompt_and_shorten_children
    - child_extend:
        when: child.dueAt > parent.dueAt
        action: prompt_and_extend_parent
  parent_task_indicator:
    - active_children:
        when: çˆ¶ä»»åŠ¡å­˜åœ¨æ´»è·ƒå­ä»»åŠ¡ï¼ˆå­ä»»åŠ¡çŠ¶æ€ä¸ºdoingï¼‰
        action: æ˜¾ç¤ºæ´»è·ƒå­ä»»åŠ¡æŒ‡ç¤ºå™¨ï¼ˆå¦‚è§’æ ‡æˆ–ç‰¹æ®Šé¢œè‰²è¾¹æ¡†ï¼‰
    - nested_completion:
        when: æ‰€æœ‰å­ä»»åŠ¡å®Œæˆï¼ˆåŒ…æ‹¬åµŒå¥—å­ä»»åŠ¡ï¼‰
        action: æ£€æŸ¥çˆ¶ä»»åŠ¡æ˜¯å¦å¯ä»¥å®Œæˆï¼ˆæ— æœªå®Œæˆå­ä»»åŠ¡æ—¶ï¼‰
    - parent_info_query:
        method: é€šè¿‡parentIdå…³è”æŸ¥è¯¢çˆ¶ä»»åŠ¡çš„taskIdå’Œtitle
        performance: æ”¯æŒæ‡’åŠ è½½å’Œç¼“å­˜ä¼˜åŒ–
    - estimation_insight:
        pattern: ä»»åŠ¡å¼€å§‹åæ‰åˆ›å»ºå­ä»»åŠ¡çš„ä»»åŠ¡é€šå¸¸æ— estimateMinutes
        analysis: å¸®åŠ©ç”¨æˆ·è¯†åˆ«ä»»åŠ¡è¯„ä¼°èƒ½åŠ›çš„ç¼ºå¤±å’Œæ”¹è¿›ç©ºé—´
        value: ç»Ÿè®¡ç»´åº¦æ­ç¤ºç”¨æˆ·åœ¨ä»»åŠ¡å¤æ‚åº¦è®¤çŸ¥æ–¹é¢çš„æˆé•¿è½¨è¿¹
    - time_accuracy_analysis:
        metrics: estimateMinutes vs actualMinuteså¯¹æ¯”
        insights: è¯†åˆ«é¢„ä¼°åå·®æ¨¡å¼ï¼ˆç³»ç»Ÿæ€§ä½ä¼°/é«˜ä¼°ï¼‰
        improvement: ä¸ºç”¨æˆ·æä¾›ä¸ªæ€§åŒ–çš„æ—¶é—´é¢„ä¼°å»ºè®®
        patterns: åˆ†æä¸åŒç±»å‹ä»»åŠ¡çš„é¢„ä¼°å‡†ç¡®æ€§å·®å¼‚
    - task_icon_logic:
        has_children: EXISTS(SELECT 1 FROM tasks WHERE parentId = this.id AND status IN ('pending', 'doing'))
        all_children_completed: NOT EXISTS(SELECT 1 FROM tasks WHERE parentId = this.id AND status NOT IN ('completed', 'completed_active', 'archived', 'trashed', 'pseudo_deleted'))
        all_children_completed_active: NOT EXISTS(SELECT 1 FROM tasks WHERE parentId = this.id AND status NOT IN ('completed_active', 'archived', 'trashed', 'pseudo_deleted'))
        icon_selection: "status == 'completed_active' ? 'âœ…' : (has_children ? 'ğŸ“' : 'ğŸ“„')"
        performance: æ”¯æŒç´¢å¼•ä¼˜åŒ–ï¼Œå®æ—¶è®¡ç®—
    - leaf_node_display:
        filter: æ˜¾ç¤ºå¶å­ä»»åŠ¡å’Œå¾…å®Œæˆçˆ¶ä»»åŠ¡ï¼ˆæ‰€æœ‰å­ä»»åŠ¡å·²å®Œæˆçš„çˆ¶ä»»åŠ¡ï¼‰
        logic: NOT EXISTS(SELECT 1 FROM tasks WHERE parentId = this.id AND status IN ('pending', 'doing'))
        parent_completion: çˆ¶ä»»åŠ¡åœ¨æ‰€æœ‰å­ä»»åŠ¡å®Œæˆåæ˜¾ç¤ºåœ¨ä»»åŠ¡åˆ—è¡¨ä¸­
        benefit: ä¸“æ³¨å¯æ‰§è¡Œä»»åŠ¡å’Œå¾…ç¡®è®¤çš„çˆ¶ä»»åŠ¡ï¼Œå‡å°‘è§†è§‰å¹²æ‰°
    - project_milestone_exclusion:
        rule: é¡¹ç›®å’Œé‡Œç¨‹ç¢‘ï¼ˆtaskKind=project æˆ– taskKind=milestoneï¼‰æ˜¯ç‰¹æ®Šä»»åŠ¡ç±»å‹ï¼Œå®ƒä»¬ä¸åœ¨ä»»ä½•å¸¸è§„ä»»åŠ¡åˆ—è¡¨ä¸­å‡ºç°ï¼Œå³ä½¿å®ƒä»¬æ²¡æœ‰å­ä»»åŠ¡
        scope: æ‰€æœ‰ä»»åŠ¡åˆ—è¡¨è§†å›¾ï¼ŒåŒ…æ‹¬ä»»åŠ¡æ¸…å•é¡µå„åˆ†æ ã€æ”¶é›†ç®±ã€å·²å®Œæˆåˆ—è¡¨ã€å·²å½’æ¡£åˆ—è¡¨ç­‰
        display_channels: é¡¹ç›®å’Œé‡Œç¨‹ç¢‘åªèƒ½é€šè¿‡ä¸“é—¨çš„ Projects è§†å›¾ï¼ˆwatchProjectsï¼‰å’Œé¡¹ç›®è¯¦æƒ…é¡µï¼ˆwatchMilestonesï¼‰æ¥æŸ¥çœ‹å’Œç®¡ç†
        enforcement: æ­¤è§„åˆ™å¿…é¡»åœ¨æ•°æ®å±‚ï¼ˆrepositoryï¼‰ã€æœåŠ¡å±‚ï¼ˆserviceï¼‰å’ŒUIå±‚åŒæ—¶æ‰§è¡Œï¼Œç¡®ä¿é¡¹ç›®å’Œé‡Œç¨‹ç¢‘ä¸æ™®é€šä»»åŠ¡å®Œå…¨åˆ†ç¦»
    - parent_chain_expansion:
        trigger: ç‚¹å‡»å¶å­ä»»åŠ¡æ—¶å±•å¼€
        mechanism: é€’å½’æŸ¥è¯¢çˆ¶ä»»åŠ¡é“¾ï¼Œç›´è‡³æ ¹èŠ‚ç‚¹
        display: ç¼©è¿›æ˜¾ç¤ºçˆ¶ä»»åŠ¡ï¼Œä½“ç°å±‚çº§å…³ç³»
        collapse: ç‚¹å‡»å¯æ”¶èµ·çˆ¶ä»»åŠ¡é“¾
    - accordion_expansion:
        mode: äº’æ–¥æ‰‹é£ç´æ¨¡å¼ï¼Œä¸€æ¬¡åªå±•å¼€ä¸€ä¸ªä»»åŠ¡é“¾
        behavior: å±•å¼€æ–°ä»»åŠ¡é“¾æ—¶è‡ªåŠ¨æ”¶èµ·ä¹‹å‰å±•å¼€çš„ä»»åŠ¡é“¾
        benefit: ä¿æŒç•Œé¢ç®€æ´ï¼Œä¸“æ³¨å½“å‰ä»»åŠ¡ä¸Šä¸‹æ–‡
        implementation: ç»´æŠ¤å…¨å±€å±•å¼€çŠ¶æ€ï¼Œåˆ‡æ¢æ—¶è‡ªåŠ¨æ”¶èµ·å…¶ä»–å±•å¼€é¡¹
    - conditional_swipe_menu:
        logic: æœ‰å­ä»»åŠ¡çš„èŠ‚ç‚¹ä¸æ˜¾ç¤º"å¯åŠ¨è®¡æ—¶"é€‰é¡¹
        reason: çˆ¶ä»»åŠ¡ä¸é€‚åˆç›´æ¥è®¡æ—¶ï¼Œåº”ä¸“æ³¨äºå¶å­ä»»åŠ¡çš„æ‰§è¡Œ
        implementation: "has_children ? æ’é™¤ 'start_timer' : åŒ…å« 'start_timer'"
    - contextual_task_menu:
        completed_active_parent: å·²å®Œæˆæ‰€æœ‰å­ä»»åŠ¡ä½†ä»æ´»è·ƒçš„çˆ¶ä»»åŠ¡æ˜¾ç¤º"ç¼–è¾‘"ã€"å­ä»»åŠ¡"ã€"å®Œæˆä»»åŠ¡"ã€"å½’æ¡£"
        reason: è¿™äº›ä»»åŠ¡å¯ä»¥ç»§ç»­å·¥ä½œï¼Œä¹Ÿå¯ä»¥æœ€ç»ˆå½’æ¡£
        active_parent: æœ‰æœªå®Œæˆå­ä»»åŠ¡çš„çˆ¶ä»»åŠ¡åªæ˜¾ç¤º"ç¼–è¾‘"ã€"å­ä»»åŠ¡"ã€"å½’æ¡£"ã€"åˆ é™¤"
        leaf_task: å¶å­ä»»åŠ¡æ˜¾ç¤ºå®Œæ•´èœå•åŒ…æ‹¬"å¯åŠ¨è®¡æ—¶"
        completed_task: çœŸæ­£å·²å®Œæˆçš„ä»»åŠ¡æ˜¾ç¤º"é‡æ–°æ¿€æ´»"ã€"å½’æ¡£"ã€"åˆ é™¤"ï¼ˆåœ¨å·²å®Œæˆåˆ—è¡¨é¡µé¢ï¼‰
    - task_reactivation:
        mechanism: ä»å·²å®Œæˆåˆ—è¡¨é‡æ–°æ¿€æ´»ä»»åŠ¡ï¼Œæ”¾å›ä»»åŠ¡åˆ—è¡¨
        status_change: completed â†’ pendingï¼Œæ¸…é™¤endedAtï¼Œä¿ç•™å…¶ä»–å®Œæˆæ•°æ®
        purpose: å…è®¸ç”¨æˆ·åŸºäºå·²å®Œæˆçš„å·¥ä½œæˆæœç»§ç»­æ„å»ºæ–°åŠŸèƒ½
    - completed_parent_summarization:
        logic: å·²å®Œæˆå’Œå·²å½’æ¡£çˆ¶ä»»åŠ¡çš„å¶å­èŠ‚ç‚¹ä¼šè¢«éšè—ï¼Œåªæ˜¾ç¤ºçˆ¶èŠ‚ç‚¹æœ¬èº«
        condition: æ‰€æœ‰ç›´æ¥å­ä»»åŠ¡å’Œé—´æ¥å­ä»»åŠ¡éƒ½å¤„äºæœ€ç»ˆçŠ¶æ€ï¼ˆcompletedæˆ–archivedï¼‰
        benefit: å‡å°‘è§†è§‰ clutterï¼Œçªå‡ºçˆ¶ä»»åŠ¡çš„å®Œæˆæˆæœ
        interaction: ç‚¹å‡»çˆ¶èŠ‚ç‚¹å¯å±•å¼€æ˜¾ç¤ºæ‰€æœ‰å­èŠ‚ç‚¹è¯¦æƒ…ï¼Œæ‰‹é£ç´å¼äº’æ–¥å±•å¼€
        expansion_mechanism: é€’å½’æŸ¥è¯¢æ‰€æœ‰å­å­™ä»»åŠ¡ï¼ŒæŒ‰å®Œæˆæ—¶é—´æ’åºæ˜¾ç¤º
        collapse_behavior: æ”¶èµ·æ—¶åªæ˜¾ç¤ºçˆ¶èŠ‚ç‚¹ï¼Œä¿æŒç•Œé¢ç®€æ´
    - unified_completion_management:
        design: å·²å®Œæˆå’Œå·²å½’æ¡£ä»»åŠ¡ç»Ÿä¸€åœ¨ä¸€ä¸ªé¡µé¢ç®¡ç†ï¼Œæä¾›æ ‡ç­¾é¡µåˆ‡æ¢
        completed_tab: æ˜¾ç¤ºå¯é‡æ–°æ¿€æ´»çš„ä»»åŠ¡ï¼Œå¯ç»§ç»­ç¼–è¾‘æˆ–å½’æ¡£
        archived_tab: æ˜¾ç¤ºå·²å½’æ¡£çš„å†å²ä»»åŠ¡ï¼Œå¯æ¢å¤æˆ–åˆ é™¤
        benefit: ç®€åŒ–å¯¼èˆªï¼Œç»Ÿä¸€ç®¡ç†å®ŒæˆçŠ¶æ€çš„ä»»åŠ¡
    - inbox_limited_operations:
        available_actions: ä»…é™"åŠ å…¥ä»»åŠ¡æ¸…å•"ã€"ç¼–è¾‘"ã€"åˆ é™¤"ä¸‰ç§æ“ä½œ
        prohibited_actions: ä¸å…è®¸å­ä»»åŠ¡åˆ›å»ºã€å½’æ¡£ã€å¯åŠ¨è®¡æ—¶ç­‰æ“ä½œ
        reason: æ”¶é›†ç®±ä¸“æ³¨äºæƒ³æ³•æ”¶é›†å’Œåˆæ­¥ç­›é€‰ï¼Œå¤æ‚æ“ä½œåº”åœ¨æ­£å¼ä»»åŠ¡æ¸…å•ä¸­è¿›è¡Œ
    - deletion_workflow:
        soft_delete: ä»ä»»ä½•é¡µé¢åˆ é™¤ä»»åŠ¡éƒ½è¿›å…¥åƒåœ¾ç®±ï¼ˆtrashedçŠ¶æ€ï¼‰
        pseudo_delete: æ¸…ç©ºåƒåœ¾ç®±æ—¶è½¬å…¥ä¼ªåˆ é™¤ï¼ˆpseudo_deletedçŠ¶æ€ï¼‰ï¼Œè®°å½•ä»…ç”¨äºåŒæ­¥å†²çªæ£€æµ‹
        purge: ä¼ªåˆ é™¤è®°å½•updatedAtè¶…è¿‡60å¤©å³ç‰©ç†åˆ é™¤ï¼ˆdeletedçŠ¶æ€ï¼‰ï¼Œæ— éœ€ç”¨æˆ·é¢å¤–æ“ä½œ
        recovery: å¯ä»åƒåœ¾ç®±æ¢å¤ä»»åŠ¡åˆ°pendingçŠ¶æ€
        safety: æä¾›ä¸¤å±‚ä¿æŠ¤ï¼Œé˜²æ­¢æ„å¤–æ°¸ä¹…åˆ é™¤ï¼ŒåŒæ—¶æ”¯æŒè·¨è®¾å¤‡åŒæ­¥è¯†åˆ«
  cross_column_drag:
    - today: dueAt=today 23:59:59ï¼ˆæŒ‰ç”¨æˆ·æœ¬åœ°æ—¶åŒºè®¡ç®—ï¼Œå­˜å‚¨ä¸ºUTCï¼‰
    - tomorrow: dueAt=today+1 23:59:59ï¼ˆæŒ‰ç”¨æˆ·æœ¬åœ°æ—¶åŒºè®¡ç®—ï¼Œå­˜å‚¨ä¸ºUTCï¼‰
    - later: dueAt=today+2 23:59:59ï¼ˆæŒ‰ç”¨æˆ·æœ¬åœ°æ—¶åŒºè®¡ç®—ï¼Œå­˜å‚¨ä¸ºUTCï¼‰

tags:
  context: ["@home","@work","@mobile","@city","@country","@world"]
  priority: ["#urgent","#important","#not_urgent","#not_important"]
  special:
    - wasted: è¡¨ç¤ºæ—¶é—´è¢«æ— æ„ä¹‰è€½è¯¯ï¼ˆä»…åœ¨ç»“æŸè®¡æ—¶å¯¹è¯æ¡†å¯ç”¨ï¼Œä¸å…è®¸ä¸»åŠ¨å‹¾é€‰ï¼‰

interactions_global:
  - time_basis: æ•°æ®åº“å­˜å‚¨ç»Ÿä¸€ä¸ºUTCï¼›ç•Œé¢äº¤äº’ä¸æé†’åŸºäºç”¨æˆ·å½“å‰æœ¬åœ°æ—¶åŒº
  - left_swipe_threshold: 0.6
  - drag_handle_icon: "â ¿"
  - task_tap_opens: timer_page
  - no_right_swipe: true
  - user_identifier: taskId (ç”¨æˆ·å¯è§çš„ä»»åŠ¡ç¼–å·ï¼Œä¸å¯ä¿®æ”¹)
  - internal_identifier: id (æ•°æ®åº“ä¸»é”®ï¼Œç”¨æˆ·ä¸å¯è§)
  - taskId_immutability: taskIdä¸€æ—¦åˆ›å»ºä¸å¯ä¿®æ”¹ï¼Œç¡®ä¿å”¯ä¸€æ€§å’Œå¯è¿½æº¯æ€§
  - display_requirement: æ‰€æœ‰ä»»åŠ¡åˆ—è¡¨éƒ½å¿…é¡»æ˜¾ç¤ºtaskIdï¼Œä¾¿äºç¬”è®°å·¥å…·è¿½æº¯
  - unified_model: æ‰€æœ‰ä»»åŠ¡ï¼ˆåŒ…æ‹¬æ”¶é›†ç®±ï¼‰ä½¿ç”¨ç»Ÿä¸€çš„Taskæ¨¡å‹ï¼Œé€šè¿‡statusåŒºåˆ†æ˜¾ç¤º
  - leaf_only_timing: åªæœ‰å¶å­ä»»åŠ¡å¯ä»¥å¯åŠ¨è®¡æ—¶ï¼Œæœ‰å­ä»»åŠ¡çš„çˆ¶ä»»åŠ¡ä¸æä¾›æ­¤åŠŸèƒ½
  - accordion_expansion_global: å…¨åº”ç”¨é‡‡ç”¨æ‰‹é£ç´å¼äº’æ–¥å±•å¼€ï¼Œä¸€æ¬¡åªå±•å¼€ä¸€ä¸ªä»»åŠ¡é“¾ï¼ˆåŒ…æ‹¬æ´»è·ƒä»»åŠ¡å’Œå·²å®Œæˆä»»åŠ¡ï¼‰
  - completion_workflow: å­ä»»åŠ¡å®Œæˆåè‡ªåŠ¨è¿›å…¥å·²å®Œæˆåˆ—è¡¨ï¼Œçˆ¶ä»»åŠ¡åœ¨æ‰€æœ‰å­ä»»åŠ¡å®Œæˆåè¿›å…¥æ´»è·ƒå®ŒæˆçŠ¶æ€ï¼Œå¯ç»§ç»­æ“ä½œæˆ–æœ€ç»ˆå½’æ¡£
  - task_reactivation: å·²å®Œæˆçš„ä»»åŠ¡å¯ä»¥é‡æ–°æ¿€æ´»ï¼Œæ”¾å›ä»»åŠ¡åˆ—è¡¨ç»§ç»­å·¥ä½œï¼Œæ”¯æŒåŸºäºå·²æœ‰æˆæœè¿›è¡Œæ‰©å±•
  - contextual_menus: ä¸åŒç±»å‹çš„ä»»åŠ¡æ˜¾ç¤ºä¸åŒçš„æ“ä½œèœå•ï¼Œcompleted_activeçŠ¶æ€çš„ä»»åŠ¡å¯ä»¥ç»§ç»­ç¼–è¾‘å’Œæ·»åŠ å­ä»»åŠ¡
  - unified_completion_management: å·²å®Œæˆå’Œå·²å½’æ¡£ä»»åŠ¡ç»Ÿä¸€åœ¨ä¸€ä¸ªé¡µé¢ç®¡ç†ï¼Œæä¾›æ ‡ç­¾é¡µåˆ‡æ¢å’Œä¸€è‡´çš„äº¤äº’ä½“éªŒ
  - deletion_safety: ä¸¤å±‚åˆ é™¤ä¿æŠ¤æœºåˆ¶ï¼Œä»ä»»ä½•é¡µé¢åˆ é™¤éƒ½å…ˆè¿›åƒåœ¾ç®±ï¼Œæ¸…ç©ºåƒåœ¾ç®±æ—¶æ‰æ°¸ä¹…åˆ é™¤
  - main_navigation: å³ä¸Šè§’ä¸»å¯¼èˆªæŒ‰é’®ï¼Œæä¾›é¡µé¢åˆ‡æ¢å’Œå…¨å±€è®¾ç½®ï¼ˆå­—ä½“ã€è¯­è¨€ã€ä¸»é¢˜ï¼‰

ui_rules:
  color_scheme:
    today: "#81C784"
    tomorrow: "#64B5F6"
    later: "#FFF176"
    info: "#1565C0"
  accent: "#455A64"
  font: "Inter / Noto Sans"
  task_icons:
    has_children: "ğŸ“" (æ–‡ä»¶å¤¹å›¾æ ‡ï¼Œæœ‰å­ä»»åŠ¡çš„çˆ¶ä»»åŠ¡)
    no_children: "ğŸ“„" (æ–‡æ¡£å›¾æ ‡ï¼Œæ— å­ä»»åŠ¡çš„å¶å­ä»»åŠ¡)
    completed_active: "âœ…" (å·²å®Œæˆä½†ä»æ´»è·ƒçš„çˆ¶ä»»åŠ¡)
    archived: "ğŸ“¦" (å·²å½’æ¡£çš„å†å²ä»»åŠ¡)
    default: "ğŸ“‹" (é»˜è®¤å›¾æ ‡ï¼Œå…œåº•æƒ…å†µ)
  navigation:
    main_button_icon: "â‹®" (å³ä¸Šè§’ä¸»å¯¼èˆªèœå•å›¾æ ‡)
    popup_position: å³ä¸Šè§’å¼¹å‡ºï¼Œä»å¯¼èˆªæŒ‰é’®ä¸‹æ–¹å±•å¼€
    popup_sections:
      - pages: é¡µé¢å¯¼èˆªåˆ—è¡¨
      - settings: å­—ä½“å¤§å°ã€è¯­è¨€ã€ä¸»é¢˜è®¾ç½®
    animation: å¹³æ»‘æ·¡å…¥æ·¡å‡ºåŠ¨ç”»ï¼Œæ—¶é•¿200ms

non_functional:
  offline: true
  performance:
    render_1000_tasks: <100ms
  storage_size: <10MB
  package_size: <40MB

monetization:
  model: "one_time_purchase"
  price:
    us: 2.99
    cn: 18
    hk: 23
  trial_period_days: 14
  - id: onboarding_seeds
    name: é¦–æ¬¡å®‰è£…ç§å­æ•°æ®
    purpose: é€šè¿‡é¢„ç½®æ•°æ®å¸®åŠ©ç”¨æˆ·ç†è§£æ ‡ç­¾ã€æ¨¡æ¿å’Œæ“ä½œæµç¨‹
    components:
      - seed_tags: å›ºå®šæ ‡ç­¾é›†åˆï¼ˆcontextã€priorityã€specialï¼‰ï¼Œç”¨æˆ·ä¸å¯ä¿®æ”¹
      - seed_tasks: ç¤ºä¾‹ä»»åŠ¡æ ‘ï¼Œæ¶µç›–è¿åŠ¨ã€å‡è„‚ã€å­¦ä¹ ã€â€œä½¿ç”¨ GranoFlowâ€ ç­‰åœºæ™¯
      - seed_templates: ä¸ç¤ºä¾‹ä»»åŠ¡å¯¹åº”çš„æ¨¡æ¿ï¼ˆå¦‚ç‘œä¼½è®­ç»ƒã€è·‘æ­¥ã€èƒŒå•è¯ï¼‰
      - seed_inbox_items: æ”¶é›†ç®±èŒƒä¾‹æ¡ç›®ï¼Œå¼•å¯¼ç”¨æˆ·å®Œæˆâ€œåŠ å…¥ä»»åŠ¡æ¸…å•â€æµç¨‹
    interactions:
      - first_run_import: åº”ç”¨é¦–æ¬¡å¯åŠ¨æ—¶ä» `assets/seeds/` ç›®å½•å¯¼å…¥ä¸Šè¿°æ•°æ®
      - tutorial_tasks: ç¤ºä¾‹ä»»åŠ¡åŒ…å«â€œæ“ä½œå­¦ä¹ â€æ­¥éª¤ï¼Œç‚¹å‡»å³å¯æ ‡è®°å®Œæˆï¼Œæ— éœ€è®¡æ—¶
      - template_auto_suggest: ç§å­æ¨¡æ¿åœ¨ä»»åŠ¡è¾“å…¥æ¡†ä¸­ä¼˜å…ˆå±•ç¤ºï¼Œå¸®åŠ©ç”¨æˆ·ç†è§£æ¨¡æ¿åŠŸèƒ½
    rules:
      - tags_immutable: ç§å­æ ‡ç­¾å†™å…¥åä¸å¯æ–°å¢æˆ–åˆ é™¤ï¼›åç»­æ›´æ–°é€šè¿‡è¿ç§»è„šæœ¬ç»Ÿä¸€å¤„ç†
      - tutorial_no_timer: æ•™å­¦å‹ä»»åŠ¡å¯ç›´æ¥å®Œæˆä¸è¿›å…¥è®¡æ—¶é¡µï¼Œç»“æŸä¼šè¯å¯¹è¯æ¡†éœ€æ”¯æŒâ€œç›´æ¥å®Œæˆâ€é€‰é¡¹
      - seed_versioning: ç»´æŠ¤ `assets/seeds/version.json` ä½œä¸ºå¯¼å…¥ç‰ˆæœ¬ï¼Œé¿å…é‡å¤å¯¼å…¥
      - slug_mapping: ç§å­ä»»åŠ¡ã€æ¨¡æ¿éœ€æºå¸¦ slug å­—æ®µï¼Œå¯¼å…¥æ—¶ä»¥ slug å»ºç«‹æ˜ å°„åå†å†™å…¥çœŸå® id
      - locale_variant: `assets/seeds/<locale>/` å­˜æ”¾æœ¬åœ°åŒ–ä»»åŠ¡ä¸æ¨¡æ¿æ–‡æ¡ˆï¼›æ ¹æ®ç³»ç»Ÿè¯­è¨€é€‰æ‹©å¯¼å…¥ï¼Œç¼ºçœæˆ–ç¼ºå°‘è¯­ç§æ—¶å›é€€åˆ°è‹±æ–‡

  - id: focus_reflection
    name: ä¸“æ³¨å›é¡¾è®°å½•
    purpose: æ”¯æŒåœ¨ç»“æŸä¸“æ³¨æ—¶å¿«é€Ÿç‚¹è¯„æˆæœæˆ–é—®é¢˜
    components:
      - reflection_toggle: åœ¨ç»“æŸä¼šè¯å¯¹è¯æ¡†å±•ç¤ºâ€œè®°å½•æœ¬æ¬¡å¿ƒå¾—â€å…¥å£
      - reflection_textfield: å¯é€‰æ–‡æœ¬è¾“å…¥ï¼ˆé™åˆ¶ 200 å­—ï¼‰æè¿°æ•ˆç‡é—®é¢˜æˆ–äº®ç‚¹
      - wasted_quick_toggle: ç›´æ¥ç‚¹å‡»â€œæµªè´¹æ—¶é—´â€æ ‡ç­¾è§†ä¸ºè´Ÿé¢åé¦ˆ
    interactions:
      - submit_reflection: ä¿å­˜æ–‡æœ¬åˆ° FocusSessionï¼Œæ”¯æŒç©ºå†…å®¹
      - skip_reflection: é»˜è®¤ä¸è¦æ±‚å¡«å†™ï¼Œé¿å…ç»™ç”¨æˆ·é¢å¤–è´Ÿæ‹…
    rules:
      - reflection_optional: é»˜è®¤æ”¶èµ·æ–‡æœ¬æ¡†ï¼Œåªåœ¨ç”¨æˆ·ç‚¹å‡»å…¥å£æ—¶å±•å¼€
      - analytics_opt_in: è®°å½•ä»…ä¿å­˜åœ¨æœ¬åœ°ï¼Œä¸è§¦å‘ä»»ä½•åˆ†äº«æˆ–åŒæ­¥

  - id: onboarding_seeds
    name: é¦–æ¬¡å®‰è£…ç§å­æ•°æ®
    purpose: é€šè¿‡é¢„ç½®æ•°æ®å¸®åŠ©ç”¨æˆ·ç†è§£æ ‡ç­¾ã€æ¨¡æ¿å’Œæ“ä½œæµç¨‹
    components:
      - seed_tags: å›ºå®šæ ‡ç­¾é›†åˆï¼ˆcontextã€priorityã€specialï¼‰ï¼Œç”¨æˆ·ä¸å¯ä¿®æ”¹
      - seed_tasks: ç¤ºä¾‹ä»»åŠ¡æ ‘ï¼Œæ¶µç›–è¿åŠ¨ã€å‡è„‚ã€å­¦ä¹ ã€â€œä½¿ç”¨ GranoFlowâ€ ç­‰åœºæ™¯
      - seed_templates: ä¸ç¤ºä¾‹ä»»åŠ¡å¯¹åº”çš„æ¨¡æ¿ï¼ˆå¦‚ç‘œä¼½è®­ç»ƒã€è·‘æ­¥ã€èƒŒå•è¯ï¼‰
      - seed_inbox_items: æ”¶é›†ç®±èŒƒä¾‹æ¡ç›®ï¼Œå¼•å¯¼ç”¨æˆ·å®Œæˆâ€œåŠ å…¥ä»»åŠ¡æ¸…å•â€æµç¨‹
    interactions:
      - first_run_import: åº”ç”¨é¦–æ¬¡å¯åŠ¨æ—¶ä» `assets/seeds/` ç›®å½•å¯¼å…¥ä¸Šè¿°æ•°æ®
      - tutorial_tasks: ç¤ºä¾‹ä»»åŠ¡åŒ…å«â€œæ“ä½œå­¦ä¹ â€æ­¥éª¤ï¼Œç‚¹å‡»å³å¯æ ‡è®°å®Œæˆï¼Œæ— éœ€è®¡æ—¶
      - template_auto_suggest: ç§å­æ¨¡æ¿åœ¨ä»»åŠ¡è¾“å…¥æ¡†ä¸­ä¼˜å…ˆå±•ç¤ºï¼Œå¸®åŠ©ç”¨æˆ·ç†è§£æ¨¡æ¿åŠŸèƒ½
    rules:
      - tags_immutable: ç§å­æ ‡ç­¾å†™å…¥åä¸å¯æ–°å¢æˆ–åˆ é™¤ï¼›åç»­æ›´æ–°é€šè¿‡è¿ç§»è„šæœ¬ç»Ÿä¸€å¤„ç†
      - tutorial_no_timer: æ•™å­¦å‹ä»»åŠ¡å¯ç›´æ¥å®Œæˆä¸è¿›å…¥è®¡æ—¶é¡µï¼Œç»“æŸä¼šè¯å¯¹è¯æ¡†éœ€æ”¯æŒâ€œç›´æ¥å®Œæˆâ€é€‰é¡¹
      - seed_versioning: ç»´æŠ¤ `assets/seeds/version.json` ä½œä¸ºå¯¼å…¥ç‰ˆæœ¬ï¼Œé¿å…é‡å¤å¯¼å…¥
      - slug_mapping: ç§å­ä»»åŠ¡ã€æ¨¡æ¿éœ€æºå¸¦ slug å­—æ®µï¼Œå¯¼å…¥æ—¶ä»¥ slug å»ºç«‹æ˜ å°„åå†å†™å…¥çœŸå® id
      - locale_variant: `assets/seeds/<locale>/` å­˜æ”¾æœ¬åœ°åŒ–ä»»åŠ¡ä¸æ¨¡æ¿æ–‡æ¡ˆï¼›æ ¹æ®ç³»ç»Ÿè¯­è¨€é€‰æ‹©å¯¼å…¥ï¼Œç¼ºçœæˆ–ç¼ºå°‘è¯­ç§æ—¶å›é€€åˆ°è‹±æ–‡

  - id: focus_reflection
    name: ä¸“æ³¨å›é¡¾è®°å½•
    purpose: æ”¯æŒåœ¨ç»“æŸä¸“æ³¨æ—¶å¿«é€Ÿç‚¹è¯„æˆæœæˆ–é—®é¢˜
    components:
      - reflection_toggle: åœ¨ç»“æŸä¼šè¯å¯¹è¯æ¡†å±•ç¤ºâ€œè®°å½•æœ¬æ¬¡å¿ƒå¾—â€å…¥å£
      - reflection_textfield: å¯é€‰æ–‡æœ¬è¾“å…¥ï¼ˆé™åˆ¶ 200 å­—ï¼‰æè¿°æ•ˆç‡é—®é¢˜æˆ–äº®ç‚¹
      - wasted_quick_toggle: ç›´æ¥ç‚¹å‡»â€œæµªè´¹æ—¶é—´â€æ ‡ç­¾è§†ä¸ºè´Ÿé¢åé¦ˆ
    interactions:
      - submit_reflection: ä¿å­˜æ–‡æœ¬åˆ° FocusSessionï¼Œæ”¯æŒç©ºå†…å®¹
      - skip_reflection: é»˜è®¤ä¸è¦æ±‚å¡«å†™ï¼Œé¿å…ç»™ç”¨æˆ·é¢å¤–è´Ÿæ‹…
    rules:
      - reflection_optional: é»˜è®¤æ”¶èµ·æ–‡æœ¬æ¡†ï¼Œåªåœ¨ç”¨æˆ·ç‚¹å‡»å…¥å£æ—¶å±•å¼€
      - analytics_opt_in: è®°å½•ä»…ä¿å­˜åœ¨æœ¬åœ°ï¼Œä¸è§¦å‘ä»»ä½•åˆ†äº«æˆ–åŒæ­¥
