meta:
  name: "项目创建和里程碑添加UI优化"
  version: "1.0.0"
  created_at: "2025-01-29"
  author: "AI Assistant"
  file_path: "documents/spec/projects/design/251201-project-milestone-ui-optimization.yaml"
  description: "优化项目创建和里程碑添加页面的标签显示和描述字段，提升用户体验一致性"

design:
  title: "项目创建和里程碑添加UI优化设计"
  
  problem_statement: |
    当前项目创建和里程碑添加页面存在以下问题：
    1. 标签显示有冗余的文字说明（"四象限标签"、"执行方式"）
    2. 标签布局不够紧凑，占用过多垂直空间
    3. 情境标签对项目/里程碑没有实际意义
    4. 里程碑标签选择使用独立格式，与项目创建不一致
    5. 描述字段命名和组件不统一

  goals:
    - "简化标签显示，移除冗余文字说明"
    - "优化标签布局，使用inline排列提升空间利用率"
    - "移除无意义的情境标签功能"
    - "统一项目创建和里程碑添加的标签选择体验"
    - "统一描述字段的命名和组件实现"

  user_stories:
    - "作为用户，我希望在创建项目时看到简洁的标签选择界面，没有冗余的文字说明"
    - "作为用户，我希望标签选择更加紧凑，节省屏幕空间"
    - "作为用户，我希望项目创建和里程碑添加的标签选择体验完全一致"
    - "作为用户，我希望描述字段的命名和功能在整个应用中保持一致"

  design_principles:
    - "简洁性：移除不必要的文字说明，让界面更简洁"
    - "一致性：确保相关功能的UI组件和交互体验一致"
    - "效率性：优化布局，提升空间利用率和操作效率"
    - "可维护性：复用组件，减少代码重复"

  ui_changes:
    project_creation:
      title: "项目创建页面优化"
      
      current_state: |
        当前项目创建页面包含：
        - 四象限标签选择区域（带"四象限标签"文字说明）
        - 执行方式标签选择区域（带"执行方式"文字说明）
        - 情境标签选择区域
        - 描述输入字段（可能命名为"可选备注"）
      
      target_state: |
        优化后的项目创建页面：
        - 标签选择区域：四象限标签和执行方式标签在同一行inline排列
        - 移除情境标签选择区域
        - 描述输入字段统一命名为"描述"，使用标准组件
        - 移除所有标签区域的文字说明
    
    milestone_creation:
      title: "里程碑添加页面优化"
      
      current_state: |
        当前里程碑添加页面可能包含：
        - 独立的标签选择格式
        - 情境标签选择功能
        - 描述字段命名可能不一致
      
      target_state: |
        优化后的里程碑添加页面：
        - 使用与项目创建相同的标签选择组件
        - 标签布局：四象限标签和执行方式标签inline排列
        - 移除情境标签选择功能
        - 描述字段与项目创建完全一致

  technical_requirements:
    component_reuse:
      - "标签选择组件：项目创建和里程碑添加使用相同的TagPanel组件"
      - "描述输入组件：使用相同的文本输入组件和验证逻辑"
      - "布局组件：使用相同的inline布局组件"
    
    layout_specifications:
      tag_selection:
        layout: "inline"
        alignment: "start"
        spacing: "16px"
        components: ["四象限标签组", "执行方式标签组"]
      
      description_field:
        label: "描述"
        placeholder: "请输入项目/里程碑描述..."
        max_length: "与项目创建保持一致"
        validation: "与项目创建保持一致"
    
    removed_features:
      - "情境标签选择功能"
      - "标签区域的文字说明"
      - "独立的里程碑标签选择格式"

  implementation_notes:
    code_changes:
      - "修改项目创建页面的标签布局为inline"
      - "移除项目创建页面的情境标签选择"
      - "统一里程碑添加页面的标签选择组件"
      - "移除里程碑添加页面的情境标签选择"
      - "统一描述字段的命名和组件"
      - "移除标签区域的文字说明"
    
    files_to_modify:
      - "lib/presentation/tasks/task_list_page.dart (项目创建表单)"
      - "lib/presentation/tasks/milestone_creation_dialog.dart (如果存在)"
      - "lib/presentation/widgets/tag_panel.dart (标签选择组件)"
      - "相关测试文件"
    
    testing_requirements:
      - "验证标签inline布局在不同屏幕尺寸下的表现"
      - "验证项目创建和里程碑添加的标签选择功能一致性"
      - "验证描述字段的输入和验证功能"
      - "验证移除情境标签后不会影响其他功能"

  success_criteria:
    - "项目创建页面的标签选择更加简洁，没有冗余文字"
    - "标签选择使用inline布局，节省垂直空间"
    - "项目创建和里程碑添加的标签选择体验完全一致"
    - "描述字段在整个应用中命名和功能统一"
    - "移除情境标签后不影响核心功能"
    - "所有相关测试通过"

  risks_and_mitigations:
    risks:
      - "修改标签布局可能影响现有用户的使用习惯"
      - "移除情境标签可能影响某些依赖该功能的代码"
      - "统一组件可能导致某些特殊需求无法满足"
    
    mitigations:
      - "保持标签选择的核心功能不变，只优化显示"
      - "仔细检查代码依赖，确保移除情境标签不会破坏功能"
      - "充分测试统一组件在不同场景下的表现"
      - "保留必要的配置选项，确保组件的灵活性"

  future_considerations:
    - "考虑是否需要在其他页面也应用类似的标签布局优化"
    - "评估是否需要在标签选择中添加更多视觉提示"
    - "考虑是否需要为不同用户角色提供不同的标签选择选项"