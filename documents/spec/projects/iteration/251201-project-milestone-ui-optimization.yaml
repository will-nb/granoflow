meta:
  name: "项目创建和里程碑添加UI优化迭代蓝图"
  version: "1.0.0"
  created_at: "2025-01-29"
  author: "AI Assistant"
  file_path: "documents/spec/projects/iteration/251201-project-milestone-ui-optimization.yaml"
  description: "基于design文档制定的项目创建和里程碑添加UI优化实施计划"

iteration:
  title: "项目创建和里程碑添加UI优化迭代"
  
  design_reference: "documents/spec/projects/design/251201-project-milestone-ui-optimization.yaml"
  
  objectives:
    - "简化项目创建页面的标签显示，移除冗余文字说明"
    - "优化标签布局为inline排列，提升空间利用率"
    - "移除项目和里程碑的情境标签功能"
    - "统一项目创建和里程碑添加的标签选择体验"
    - "统一描述字段的命名和组件实现"

  phases:
    phase_1:
      title: "项目创建页面优化"
      duration: "1-2天"
      priority: "high"
      
      tasks:
        - id: "task_1_1"
          title: "移除项目创建页面的标签文字说明"
          description: "删除'四象限标签'和'执行方式'等文字说明"
          files: ["lib/presentation/tasks/task_list_page.dart"]
          acceptance_criteria:
            - "项目创建页面不再显示'四象限标签'文字"
            - "项目创建页面不再显示'执行方式'文字"
            - "标签选择功能正常工作"
        
        - id: "task_1_2"
          title: "优化项目创建页面的标签布局为inline"
          description: "将四象限标签和执行方式标签排列在同一行"
          files: ["lib/presentation/tasks/task_list_page.dart"]
          acceptance_criteria:
            - "四象限标签和执行方式标签在同一行显示"
            - "标签间距合理，视觉效果良好"
            - "在不同屏幕尺寸下布局正常"
        
        - id: "task_1_3"
          title: "移除项目创建页面的情境标签功能"
          description: "完全移除情境标签选择区域和相关逻辑"
          files: ["lib/presentation/tasks/task_list_page.dart"]
          acceptance_criteria:
            - "项目创建页面不再显示情境标签选择"
            - "移除情境标签相关的代码逻辑"
            - "不影响其他标签选择功能"
        
        - id: "task_1_4"
          title: "统一项目创建页面的描述字段"
          description: "确保描述字段命名和组件与设计一致"
          files: ["lib/presentation/tasks/task_list_page.dart"]
          acceptance_criteria:
            - "描述字段标签为'描述'"
            - "描述字段组件与标准组件一致"
            - "描述字段验证逻辑正确"

    phase_2:
      title: "里程碑添加页面优化"
      duration: "1-2天"
      priority: "high"
      
      tasks:
        - id: "task_2_1"
          title: "统一里程碑添加页面的标签选择组件"
          description: "使用与项目创建相同的TagPanel组件"
          files: ["lib/presentation/tasks/milestone_creation_dialog.dart"]
          acceptance_criteria:
            - "里程碑添加页面使用与项目创建相同的标签选择组件"
            - "标签选择功能与项目创建完全一致"
            - "组件样式和交互行为统一"
        
        - id: "task_2_2"
          title: "优化里程碑添加页面的标签布局"
          description: "将四象限标签和执行方式标签inline排列"
          files: ["lib/presentation/tasks/milestone_creation_dialog.dart"]
          acceptance_criteria:
            - "四象限标签和执行方式标签在同一行显示"
            - "布局与项目创建页面保持一致"
            - "标签间距和视觉效果统一"
        
        - id: "task_2_3"
          title: "移除里程碑添加页面的情境标签功能"
          description: "移除情境标签选择区域和相关逻辑"
          files: ["lib/presentation/tasks/milestone_creation_dialog.dart"]
          acceptance_criteria:
            - "里程碑添加页面不再显示情境标签选择"
            - "移除情境标签相关的代码逻辑"
            - "不影响其他标签选择功能"
        
        - id: "task_2_4"
          title: "统一里程碑添加页面的描述字段"
          description: "确保描述字段与项目创建完全一致"
          files: ["lib/presentation/tasks/milestone_creation_dialog.dart"]
          acceptance_criteria:
            - "描述字段标签为'描述'"
            - "描述字段组件与项目创建完全一致"
            - "描述字段验证逻辑与项目创建一致"

    phase_3:
      title: "组件优化和测试"
      duration: "1天"
      priority: "medium"
      
      tasks:
        - id: "task_3_1"
          title: "优化TagPanel组件的inline布局支持"
          description: "确保TagPanel组件支持inline布局模式"
          files: ["lib/presentation/widgets/tag_panel.dart"]
          acceptance_criteria:
            - "TagPanel组件支持inline布局参数"
            - "inline布局下标签排列合理"
            - "组件在不同场景下表现一致"
        
        - id: "task_3_2"
          title: "更新相关测试用例"
          description: "更新测试用例以反映UI变化"
          files: ["test/presentation/tasks/", "test/presentation/widgets/"]
          acceptance_criteria:
            - "所有相关测试用例更新完成"
            - "测试覆盖新的inline布局"
            - "测试验证情境标签移除后的功能"
            - "所有测试通过"
        
        - id: "task_3_3"
          title: "代码审查和优化"
          description: "审查代码质量，优化实现"
          files: ["所有修改的文件"]
          acceptance_criteria:
            - "代码符合项目规范"
            - "没有重复代码"
            - "组件复用合理"
            - "代码注释完整"

  dependencies:
    - "需要先完成标签本地化功能的实现"
    - "需要确保TagPanel组件的稳定性"
    - "需要确保现有的标签选择功能正常工作"

  risks:
    - risk: "修改标签布局可能影响现有用户习惯"
      mitigation: "保持标签选择的核心功能不变，只优化显示"
    
    - risk: "移除情境标签可能影响某些依赖代码"
      mitigation: "仔细检查代码依赖，确保不会破坏功能"
    
    - risk: "统一组件可能导致特殊需求无法满足"
      mitigation: "保留必要的配置选项，确保组件灵活性"

  testing_strategy:
    unit_tests:
      - "测试标签选择组件的inline布局功能"
      - "测试描述字段的统一实现"
      - "测试情境标签移除后的功能完整性"
    
    integration_tests:
      - "测试项目创建页面的完整流程"
      - "测试里程碑添加页面的完整流程"
      - "测试两个页面的标签选择一致性"
    
    ui_tests:
      - "测试不同屏幕尺寸下的布局表现"
      - "测试标签选择的交互体验"
      - "测试描述字段的输入和验证"

  success_metrics:
    - "项目创建页面标签显示简洁，无冗余文字"
    - "标签使用inline布局，节省垂直空间"
    - "项目创建和里程碑添加的标签选择体验完全一致"
    - "描述字段在整个应用中命名和功能统一"
    - "所有相关测试通过"
    - "代码质量符合项目标准"

  rollback_plan:
    - "保留原始UI实现的备份"
    - "准备快速回滚的git分支"
    - "确保可以快速恢复到修改前状态"
    - "准备回滚后的功能验证清单"